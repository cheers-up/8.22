!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,t){var d=[],u=d.slice,m=d.concat,a=d.push,r=d.indexOf,n={},i=n.toString,g=n.hasOwnProperty,y={},o="1.11.2",C=function(e,t){return new C.fn.init(e,t)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/^-ms-/,l=/-([\da-z])/gi,f=function(e,t){return t.toUpperCase()};function h(e){var t=e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:o,constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:d.sort,splice:d.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||C.isFunction(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],s!==(n=r[i])&&(l&&n&&(C.isPlainObject(n)||(t=C.isArray(n)))?(t?(t=!1,o=e&&C.isArray(e)?e:[]):o=e&&C.isPlainObject(e)?e:{},s[i]=C.extend(l,o,n)):n!==undefined&&(s[i]=n));return s},C.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!C.isArray(e)&&0<=e-parseFloat(e)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(y.ownLast)for(t in e)return g.call(e,t);for(t in e);return t===undefined||g.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){e&&C.trim(e)&&(p.execScript||function(e){p.eval.call(p,e)})(e)},camelCase:function(e){return e.replace(c,"ms-").replace(l,f)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=h(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(s,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(h(Object(e))?C.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(r)return r.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!=n)for(;t[i]!==undefined;)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,s=[];if(h(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&s.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&s.push(i);return m.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),C.isFunction(e)?(n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i):undefined},now:function(){return+new Date},support:y}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var e=function(n){var e,p,w,o,i,m,d,g,b,l,u,y,x,r,v,_,s,a,C,k="sizzle"+1*new Date,T=n.document,S=0,f=0,c=oe(),h=oe(),E=oe(),N=function(e,t){return e===t&&(u=!0),0},j={}.hasOwnProperty,t=[],F=t.pop,I=t.push,L=t.push,P=t.slice,O=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},A="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=D.replace("w","w#"),B="\\["+H+"*("+D+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+H+"*\\]",M=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",$=new RegExp(H+"+","g"),q=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),U=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),K=new RegExp(M),V=new RegExp("^"+R+"$"),Z={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+A+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){y()};try{L.apply(t=P.call(T.childNodes),T.childNodes),t[T.childNodes.length].nodeType}catch(be){L={apply:t.length?function(e,t){I.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,i){var r,o,s,a,c,l,u,d,f,h;if((t?t.ownerDocument||t:T)!==x&&y(t),n=n||[],a=(t=t||x).nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&v){if(11!==a&&(r=J.exec(e)))if(s=r[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&C(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return L.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&p.getElementsByClassName)return L.apply(n,t.getElementsByClassName(s)),n}if(p.qsa&&(!_||!_.test(e))){if(d=u=k,f=t,h=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=m(e),(u=t.getAttribute("id"))?d=u.replace(ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",c=l.length;c--;)l[c]=d+me(l[c]);f=Y.test(e)&&he(t.parentNode)||t,h=l.join(",")}if(h)try{return L.apply(n,f.querySelectorAll(h)),n}catch(E){}finally{u||t.removeAttribute("id")}}}return g(e.replace(q,"$1"),t,n,i)}function oe(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function se(e){return e[k]=!0,e}function ae(e){var t=x.createElement("div");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function de(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function fe(s){return se(function(o){return o=+o,se(function(e,t){for(var n,i=s([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in p=re.support={},i=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},y=re.setDocument=function(e){var t,n,c=e?e.ownerDocument||e:T;return c!==x&&9===c.nodeType&&c.documentElement?(r=(x=c).documentElement,(n=c.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),v=!i(c),p.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ae(function(e){return e.appendChild(c.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=G.test(c.getElementsByClassName),p.getById=ae(function(e){return r.appendChild(e).id=k,!c.getElementsByName||!c.getElementsByName(k).length}),p.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=p.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(v)return t.getElementsByClassName(e)},s=[],_=[],(p.qsa=G.test(c.querySelectorAll))&&(ae(function(e){r.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+H+"*(?:value|"+A+")"),e.querySelectorAll("[id~="+k+"-]").length||_.push("~="),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||_.push(".#.+[+~]")}),ae(function(e){var t=c.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+H+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(p.matchesSelector=G.test(a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&ae(function(e){p.disconnectedMatch=a.call(e,"div"),a.call(e,"[s!='']:x"),s.push("!=",M)}),_=_.length&&new RegExp(_.join("|")),s=s.length&&new RegExp(s.join("|")),t=G.test(r.compareDocumentPosition),C=t||G.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument===T&&C(T,e)?-1:t===c||t.ownerDocument===T&&C(T,t)?1:l?O(l,e)-O(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===c?-1:t===c?1:r?-1:o?1:l?O(l,e)-O(l,t):0;if(r===o)return le(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?le(s[i],a[i]):s[i]===T?-1:a[i]===T?1:0},c):x},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==x&&y(e),t=t.replace(U,"='$1']"),p.matchesSelector&&v&&(!s||!s.test(t))&&(!_||!_.test(t)))try{var n=a.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){}return 0<re(t,x,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==x&&y(e),C(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==x&&y(e);var n=w.attrHandle[t.toLowerCase()],i=n&&j.call(w.attrHandle,t.toLowerCase())?n(e,t,!v):undefined;return i!==undefined?i:p.attributes||!v?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(N),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return l=null,e},o=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=re.selectors={cacheLength:50,createPseudo:se,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=c[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&c(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=re.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace($," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),y="last"!==h.slice(-4),v="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,c,l=g!==y?"nextSibling":"previousSibling",u=e.parentNode,d=v&&e.nodeName.toLowerCase(),f=!n&&!v;if(u){if(g){for(;l;){for(o=e;o=o[l];)if(v?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;c=l="only"===h&&!c&&"nextSibling"}return!0}if(c=[y?u.firstChild:u.lastChild],y&&f){for(a=(i=(r=u[k]||(u[k]={}))[h]||[])[0]===S&&i[1],s=i[0]===S&&i[2],o=a&&u.childNodes[a];o=++a&&o&&o[l]||(s=a=0)||c.pop();)if(1===o.nodeType&&++s&&o===e){r[h]=[S,a,s];break}}else if(f&&(i=(e[k]||(e[k]={}))[h])&&i[0]===S)s=i[1];else for(;(o=++a&&o&&o[l]||(s=a=0)||c.pop())&&((v?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++s||(f&&((o[k]||(o[k]={}))[h]=[S,s]),o!==e)););return(s-=m)===p||s%p==0&&0<=s/p}}},PSEUDO:function(e,o){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return s[k]?s(o):1<s.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=s(e,o),r=i.length;r--;)e[n=O(e,i[r])]=!(t[n]=i[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:se(function(e){var i=[],r=[],a=d(e.replace(q,"$1"));return a[k]?se(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,n){return i[0]=e,a(i,null,n,r),i[0]=null,!r.pop()}}),has:se(function(t){return function(e){return 0<re(t,e).length}}),contains:se(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return V.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ue(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=de(e);function pe(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(s,e,t){var a=e.dir,c=t&&"parentNode"===a,l=f++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var i,r,o=[S,l];if(n){for(;e=e[a];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||c){if((i=(r=e[k]||(e[k]={}))[a])&&i[0]===S&&i[1]===l)return o[2]=i[2];if((r[a]=o)[2]=s(e,t,n))return!0}}}function ye(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ve(e,t,n,i,r){for(var o,s=[],a=0,c=e.length,l=null!=t;a<c;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),l&&t.push(a)));return s}function _e(h,p,m,g,y,e){return g&&!g[k]&&(g=_e(g)),y&&!y[k]&&(y=_e(y,e)),se(function(e,t,n,i){var r,o,s,a=[],c=[],l=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?u:ve(u,a,h,n,i),f=m?y||(e?h:l||g)?[]:t:d;if(m&&m(d,f,n,i),g)for(r=ve(f,c),g(r,[],n,i),o=r.length;o--;)(s=r[o])&&(f[c[o]]=!(d[c[o]]=s));if(e){if(y||h){if(y){for(r=[],o=f.length;o--;)(s=f[o])&&r.push(d[o]=s);y(null,f=[],r,i)}for(o=f.length;o--;)(s=f[o])&&-1<(r=y?O(e,s):a[o])&&(e[r]=!(t[r]=s))}}else f=ve(f===t?f.splice(l,f.length):f),y?y(null,t,f,i):L.apply(t,f)})}function we(e){for(var r,t,n,i=e.length,o=w.relative[e[0].type],s=o||w.relative[" "],a=o?1:0,c=ge(function(e){return e===r},s,!0),l=ge(function(e){return-1<O(r,e)},s,!0),u=[function(e,t,n){var i=!o&&(n||t!==b)||((r=t).nodeType?c(e,t,n):l(e,t,n));return r=null,i}];a<i;a++)if(t=w.relative[e[a].type])u=[ge(ye(u),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[k]){for(n=++a;n<i&&!w.relative[e[n].type];n++);return _e(1<a&&ye(u),1<a&&me(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(q,"$1"),t,a<n&&we(e.slice(a,n)),n<i&&we(e=e.slice(n)),n<i&&me(e))}u.push(t)}return ye(u)}return pe.prototype=w.filters=w.pseudos,w.setFilters=new pe,m=re.tokenize=function(e,t){var n,i,r,o,s,a,c,l=h[e+" "];if(l)return t?0:l.slice(0);for(s=e,a=[],c=w.preFilter;s;){for(o in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(q," ")}),s=s.slice(n.length)),w.filter)!(i=Z[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):h(e,a).slice(0)},d=re.compile=function(e,t){var n,g,y,v,_,i,r=[],o=[],s=E[e+" "];if(!s){for(t||(t=m(e)),n=t.length;n--;)(s=we(t[n]))[k]?r.push(s):o.push(s);(s=E(e,(g=o,v=0<(y=r).length,_=0<g.length,i=function(e,t,n,i,r){var o,s,a,c=0,l="0",u=e&&[],d=[],f=b,h=e||_&&w.find.TAG("*",r),p=S+=null==f?1:Math.random()||.1,m=h.length;for(r&&(b=t!==x&&t);l!==m&&null!=(o=h[l]);l++){if(_&&o){for(s=0;a=g[s++];)if(a(o,t,n)){i.push(o);break}r&&(S=p)}v&&((o=!a&&o)&&c--,e&&u.push(o))}if(c+=l,v&&l!==c){for(s=0;a=y[s++];)a(u,d,t,n);if(e){if(0<c)for(;l--;)u[l]||d[l]||(d[l]=F.call(i));d=ve(d)}L.apply(i,d),r&&!e&&0<d.length&&1<c+y.length&&re.uniqueSort(i)}return r&&(S=p,b=f),u},v?se(i):i))).selector=e}return s},g=re.select=function(e,t,n,i){var r,o,s,a,c,l="function"==typeof e&&e,u=!i&&m(e=l.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&p.getById&&9===t.nodeType&&v&&w.relative[o[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Z.needsContext.test(e)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((c=w.find[a])&&(i=c(s.matches[0].replace(te,ne),Y.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&me(o)))return L.apply(n,i),n;break}}return(l||d(e,u))(i,t,!v,n,Y.test(e)&&he(t.parentNode)||t),n},p.sortStable=k.split("").sort(N).join("")===k,p.detectDuplicates=!!u,y(),p.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(x.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||ce(A,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(p);C.find=e,C.expr=e.selectors,C.expr[":"]=C.expr.pseudos,C.unique=e.uniqueSort,C.text=e.getText,C.isXMLDoc=e.isXML,C.contains=e.contains;var v=C.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function b(e,n,i){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return C.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(w.test(n))return C.filter(n,e,i);n=C.filter(n,e)}return C.grep(e,function(e){return 0<=C.inArray(e,n)!==i})}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0}));for(t=0;t<r;t++)C.find(e,i[t],n);return(n=this.pushStack(1<r?C.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(b(this,e||[],!1))},not:function(e){return this.pushStack(b(this,e||[],!0))},is:function(e){return!!b(this,"string"==typeof e&&v.test(e)?C(e):e||[],!1).length}});var x,k=p.document,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),_.test(n[1])&&C.isPlainObject(t))for(n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=k.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return x.find(e);this.length=1,this[0]=i}return this.context=k,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?"undefined"!=typeof x.ready?x.ready(e):e(C):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this))}).prototype=C.fn,x=C(k);var S=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(n===undefined||1!==r.nodeType||!C(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),C.fn.extend({has:function(e){var t,n=C(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(C.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=v.test(e)||"string"!=typeof e?C(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.unique(o):o)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},function(i,r){C.fn[i]=function(e,t){var n=C.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(E[i]||(n=C.unique(n)),S.test(i)&&(n=n.reverse())),this.pushStack(n)}});var j,F=/\S+/g,I={};function L(){k.addEventListener?(k.removeEventListener("DOMContentLoaded",P,!1),p.removeEventListener("load",P,!1)):(k.detachEvent("onreadystatechange",P),p.detachEvent("onload",P))}function P(){(k.addEventListener||"load"===event.type||"complete"===k.readyState)&&(L(),C.ready())}C.Callbacks=function(r){var e,n;r="string"==typeof r?I[r]||(n=I[e=r]={},C.each(e.match(F)||[],function(e,t){n[t]=!0}),n):C.extend({},r);var o,t,i,s,a,c,l=[],u=!r.once&&[],d=function(e){for(t=r.memory&&e,i=!0,a=c||0,c=0,s=l.length,o=!0;l&&a<s;a++)if(!1===l[a].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,l&&(u?u.length&&d(u.shift()):t?l=[]:f.disable())},f={add:function(){if(l){var e=l.length;!function i(e){C.each(e,function(e,t){var n=C.type(t);"function"===n?r.unique&&f.has(t)||l.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),o?s=l.length:t&&(c=e,d(t))}return this},remove:function(){return l&&C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),o&&(n<=s&&s--,n<=a&&a--)}),this},has:function(e){return e?-1<C.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=t=undefined,this},disabled:function(){return!l},lock:function(){return u=undefined,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],o?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},C.extend({Deferred:function(e){var o=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(e,t){var n=C.isFunction(r[e])&&r[e];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===s?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},a={};return s.pipe=s.then,C.each(o,function(e,t){var n=t[2],i=t[3];s[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?s:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var r,t,n,i=0,o=u.call(arguments),s=o.length,a=1!==s||e&&C.isFunction(e.promise)?s:0,c=1===a?e:C.Deferred(),l=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===r?c.notifyWith(n,i):--a||c.resolveWith(n,i)}};if(1<s)for(r=new Array(s),t=new Array(s),n=new Array(s);i<s;i++)o[i]&&C.isFunction(o[i].promise)?o[i].promise().done(l(i,n,o)).fail(c.reject).progress(l(i,t,r)):--a;return a||c.resolveWith(n,o),c.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){if(!0===e?!--C.readyWait:!C.isReady){if(!k.body)return setTimeout(C.ready);(C.isReady=!0)!==e&&0<--C.readyWait||(j.resolveWith(k,[C]),C.fn.triggerHandler&&(C(k).triggerHandler("ready"),C(k).off("ready")))}}}),C.ready.promise=function(t){if(!j)if(j=C.Deferred(),"complete"===k.readyState)setTimeout(C.ready);else if(k.addEventListener)k.addEventListener("DOMContentLoaded",P,!1),p.addEventListener("load",P,!1);else{k.attachEvent("onreadystatechange",P),p.attachEvent("onload",P);var n=!1;try{n=null==p.frameElement&&k.documentElement}catch(o){}n&&n.doScroll&&function e(){if(!C.isReady){try{n.doScroll("left")}catch(o){return setTimeout(e,50)}L(),C.ready()}}()}return j.promise(t)};var O,A=typeof undefined;for(O in C(y))break;y.ownLast="0"!==O,y.inlineBlockNeedsLayout=!1,C(function(){var e,t,n,i;(n=k.getElementsByTagName("body")[0])&&n.style&&(t=k.createElement("div"),(i=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==A&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",y.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=k.createElement("div");if(null==y.deleteExpando){y.deleteExpando=!0;try{delete e.test}catch(i){y.deleteExpando=!1}}e=null}(),C.acceptData=function(e){var t=C.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var H=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,D=/([A-Z])/g;function R(e,t,n){if(n===undefined&&1===e.nodeType){var i="data-"+t.replace(D,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:H.test(n)?C.parseJSON(n):n)}catch(r){}C.data(e,t,n)}else n=undefined}return n}function B(e){var t;for(t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function M(e,t,n,i){if(C.acceptData(e)){var r,o,s=C.expando,a=e.nodeType,c=a?C.cache:e,l=a?e[s]:e[s]&&s;if(l&&c[l]&&(i||c[l].data)||n!==undefined||"string"!=typeof t)return l||(l=a?e[s]=d.pop()||C.guid++:s),c[l]||(c[l]=a?{}:{toJSON:C.noop}),"object"!=typeof t&&"function"!=typeof t||(i?c[l]=C.extend(c[l],t):c[l].data=C.extend(c[l].data,t)),o=c[l],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[C.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[C.camelCase(t)]):r=o,r}}function $(e,t,n){if(C.acceptData(e)){var i,r,o=e.nodeType,s=o?C.cache:e,a=o?e[C.expando]:C.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){r=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in i?[t]:(t=C.camelCase(t))in i?[t]:t.split(" ")).length;for(;r--;)delete i[t[r]];if(n?!B(i):!C.isEmptyObject(i))return}(n||(delete s[a].data,B(s[a])))&&(o?C.cleanData([e],!0):y.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}C.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!B(e)},data:function(e,t,n){return M(e,t,n)},removeData:function(e,t){return $(e,t)},_data:function(e,t,n){return M(e,t,n,!0)},_removeData:function(e,t){return $(e,t,!0)}}),C.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(e===undefined){if(this.length&&(r=C.data(o),1===o.nodeType&&!C._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&R(o,i=C.camelCase(i.slice(5)),r[i]);C._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){C.data(this,e)}):1<arguments.length?this.each(function(){C.data(this,e,t)}):o?R(o,e,C.data(o,e)):undefined},removeData:function(e){return this.each(function(){C.removeData(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=C._data(e,t),n&&(!i||C.isArray(n)?i=C._data(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),o=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){C.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return C._data(e,n)||C._data(e,n,{empty:C.Callbacks("once memory").add(function(){C._removeData(e,t+"queue"),C._removeData(e,n)})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):n===undefined?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=C.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";s--;)(n=C._data(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)},U=C.access=function(e,t,n,i,r,o,s){var a=0,c=e.length,l=null==n;if("object"===C.type(n))for(a in r=!0,n)C.access(e,t,a,n[a],!0,o,s);else if(i!==undefined&&(r=!0,C.isFunction(i)||(s=!0),l&&(s?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(C(e),n)})),t))for(;a<c;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):c?t(e[0],n):o},K=/^(?:checkbox|radio)$/i;!function(){var e=k.createElement("input"),t=k.createElement("div"),n=k.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",y.leadingWhitespace=3===t.firstChild.nodeType,y.tbody=!t.getElementsByTagName("tbody").length,y.htmlSerialize=!!t.getElementsByTagName("link").length,y.html5Clone="<:nav></:nav>"!==k.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),y.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,y.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){y.noCloneEvent=!1}),t.cloneNode(!0).click()),null==y.deleteExpando){y.deleteExpando=!0;try{delete t.test}catch(o){y.deleteExpando=!1}}}(),function(){var e,t,n=k.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(y[e+"Bubbles"]=t in p)||(n.setAttribute(t,"t"),y[e+"Bubbles"]=!1===n.attributes[t].expando);n=null}();var V=/^(?:input|select|textarea)$/i,Z=/^key/,Q=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function J(){return!0}function Y(){return!1}function ee(){try{return k.activeElement}catch(t){}}function te(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}C.event={global:{},add:function(e,t,n,i,r){var o,s,a,c,l,u,d,f,h,p,m,g=C._data(e);if(g){for(n.handler&&(n=(c=n).handler,r=c.selector),n.guid||(n.guid=C.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||((u=g.handle=function(e){return typeof C===A||e&&C.event.triggered===e.type?undefined:C.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(F)||[""]).length;a--;)h=m=(o=G.exec(t[a])||[])[1],p=(o[2]||"").split(".").sort(),h&&(l=C.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=C.event.special[h]||{},d=C.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},c),(f=s[h])||((f=s[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,p,u)||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),C.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,c,l,u,d,f,h,p,m,g=C.hasData(e)&&C._data(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(F)||[""]).length;l--;)if(h=m=(a=G.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},f=u[h=(i?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=f.length;o--;)s=f[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,d.remove&&d.remove.call(e,s));c&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||C.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)C.event.remove(e,h+t[l],n,i,!0);C.isEmptyObject(u)&&(delete g.handle,C._removeData(e,"events"))}},trigger:function(e,t,n,i){var r,o,s,a,c,l,u,d=[n||k],f=g.call(e,"type")?e.type:e,h=g.call(e,"namespace")?e.namespace.split("."):[];if(s=l=n=n||k,3!==n.nodeType&&8!==n.nodeType&&!X.test(f+C.event.triggered)&&(0<=f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),o=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[f]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!C.isWindow(n)){for(a=c.delegateType||f,X.test(a+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(n.ownerDocument||k)&&d.push(l.defaultView||l.parentWindow||p)}for(u=0;(s=d[u++])&&!e.isPropagationStopped();)e.type=1<u?a:c.bindType||f,(r=(C._data(s,"events")||{})[e.type]&&C._data(s,"handle"))&&r.apply(s,t),(r=o&&s[o])&&r.apply&&C.acceptData(s)&&(e.result=r.apply(s,t),!1===e.result&&e.preventDefault());if(e.type=f,!i&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),t))&&C.acceptData(n)&&o&&n[f]&&!C.isWindow(n)){(l=n[o])&&(n[o]=null),C.event.triggered=f;try{n[f]()}catch(m){}C.event.triggered=undefined,l&&(n[o]=l)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,i,r,o,s,a=u.call(arguments),c=(C._data(this,"events")||{})[e.type]||[],l=C.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=C.event.handlers.call(this,e,c),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((C.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,c=e.target;if(a&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(r=[],o=0;o<a;o++)r[n=(i=t[o]).selector+" "]===undefined&&(r[n]=i.needsContext?0<=C(n,this).index(c):C.find(n,this,null,[c]).length),r[n]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[C.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Q.test(r)?this.mouseHooks:Z.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new C.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=o.srcElement||k),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(i=e.target.ownerDocument||k).documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?C.event.trigger(r,null,t):C.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=k.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===A&&(e[i]=null),e.detachEvent(i,n))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?J:Y):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=J,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){C.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),y.submitBubbles||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=C.nodeName(t,"input")||C.nodeName(t,"button")?t.form:undefined;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),C._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),y.changeBubbles||(C.event.special.change={setup:function(){if(V.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),C.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,e,!0)})),!1;C.event.add(this,"beforeactivate._change",function(e){var t=e.target;V.test(t.nodeName)&&!C._data(t,"changeBubbles")&&(C.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e,!0)}),C._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!V.test(this.nodeName)}}),y.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){C.event.simulate(i,e.target,C.event.fix(e),!0)};C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=C._data(e,i);t||e.addEventListener(n,r,!0),C._data(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=C._data(e,i)-1;t?C._data(e,i,t):(e.removeEventListener(n,r,!0),C._removeData(e,i))}}}),C.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=undefined),e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=undefined):null==i&&("string"==typeof t?(i=n,n=undefined):(i=n,n=t,t=undefined)),!1===i)i=Y;else if(!i)return this;return 1===r&&(s=i,(i=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),this.each(function(){C.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=Y),this.each(function(){C.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+ne+")[\\s/>]","i"),oe=/^\s+/,se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ae=/<([\w:]+)/,ce=/<tbody/i,le=/<|&#?\w+;/,ue=/<(?:script|style|link)/i,de=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^$|\/(?:java|ecma)script/i,he=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,me={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ge=te(k).appendChild(k.createElement("div"));function ye(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==A?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==A?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||C.nodeName(i,t)?o.push(i):C.merge(o,ye(i,t));return t===undefined||t&&C.nodeName(e,t)?C.merge([e],o):o}function ve(e){K.test(e.type)&&(e.defaultChecked=e.checked)}function _e(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function we(e){return e.type=(null!==C.find.attr(e,"type"))+"/"+e.type,e}function be(e){var t=he.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function xe(e,t){for(var n,i=0;null!=(n=e[i]);i++)C._data(n,"globalEval",!t||C._data(t[i],"globalEval"))}function Ce(e,t){if(1===t.nodeType&&C.hasData(e)){var n,i,r,o=C._data(e),s=C._data(t,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,r=a[n].length;i<r;i++)C.event.add(t,n,a[n][i]);s.data&&(s.data=C.extend({},s.data))}}function ke(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!y.noCloneEvent&&t[C.expando]){for(i in(r=C._data(t)).events)C.removeEvent(t,i,r.handle);t.removeAttribute(C.expando)}"script"===n&&t.text!==e.text?(we(t).text=e.text,be(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),y.html5Clone&&e.innerHTML&&!C.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&K.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,C.extend({clone:function(e,t,n){var i,r,o,s,a,c=C.contains(e.ownerDocument,e);if(y.html5Clone||C.isXMLDoc(e)||!re.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ge.innerHTML=e.outerHTML,ge.removeChild(o=ge.firstChild)),!(y.noCloneEvent&&y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(i=ye(o),a=ye(e),s=0;null!=(r=a[s]);++s)i[s]&&ke(r,i[s]);if(t)if(n)for(a=a||ye(e),i=i||ye(o),s=0;null!=(r=a[s]);s++)Ce(r,i[s]);else Ce(e,o);return 0<(i=ye(o,"script")).length&&xe(i,!c&&ye(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,c,l,u,d=e.length,f=te(t),h=[],p=0;p<d;p++)if((o=e[p])||0===o)if("object"===C.type(o))C.merge(h,o.nodeType?[o]:o);else if(le.test(o)){for(a=a||f.appendChild(t.createElement("div")),c=(ae.exec(o)||["",""])[1].toLowerCase(),u=me[c]||me._default,a.innerHTML=u[1]+o.replace(se,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!y.leadingWhitespace&&oe.test(o)&&h.push(t.createTextNode(oe.exec(o)[0])),!y.tbody)for(r=(o="table"!==c||ce.test(o)?"<table>"!==u[1]||ce.test(o)?0:a:a.firstChild)&&o.childNodes.length;r--;)C.nodeName(l=o.childNodes[r],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(C.merge(h,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=f.lastChild}else h.push(t.createTextNode(o));for(a&&f.removeChild(a),y.appendChecked||C.grep(ye(h,"input"),ve),p=0;o=h[p++];)if((!i||-1===C.inArray(o,i))&&(s=C.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),s&&xe(a),n))for(r=0;o=a[r++];)fe.test(o.type||"")&&n.push(o);return a=null,f},cleanData:function(e,t){for(var n,i,r,o,s=0,a=C.expando,c=C.cache,l=y.deleteExpando,u=C.event.special;null!=(n=e[s]);s++)if((t||C.acceptData(n))&&(o=(r=n[a])&&c[r])){if(o.events)for(i in o.events)u[i]?C.event.remove(n,i):C.removeEvent(n,i,o.handle);c[r]&&(delete c[r],l?delete n[a]:typeof n.removeAttribute!==A?n.removeAttribute(a):n[a]=null,d.push(r))}}}),C.fn.extend({text:function(e){return U(this,function(e){return e===undefined?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||k).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_e(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_e(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?C.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||C.cleanData(ye(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&xe(ye(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(ye(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(ie,""):undefined;if("string"==typeof e&&!ue.test(e)&&(y.htmlSerialize||!re.test(e))&&(y.leadingWhitespace||!oe.test(e))&&!me[(ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(se,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(ye(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=m.apply([],n);var e,t,r,o,s,a,c=0,l=this.length,u=this,d=l-1,f=n[0],h=C.isFunction(f);if(h||1<l&&"string"==typeof f&&!y.checkClone&&de.test(f))return this.each(function(e){var t=u.eq(e);h&&(n[0]=f.call(this,e,t.html())),t.domManip(n,i)});if(l&&(e=(a=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===a.childNodes.length&&(a=e),e)){for(r=(o=C.map(ye(a,"script"),we)).length;c<l;c++)t=a,c!==d&&(t=C.clone(t,!0,!0),r&&C.merge(o,ye(t,"script"))),i.call(this[c],t,c);if(r)for(s=o[o.length-1].ownerDocument,C.map(o,be),c=0;c<r;c++)t=o[c],fe.test(t.type||"")&&!C._data(t,"globalEval")&&C.contains(s,t)&&(t.src?C._evalUrl&&C._evalUrl(t.src):C.globalEval((t.text||t.textContent||t.innerHTML||"").replace(pe,"")));a=e=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){C.fn[e]=function(e){for(var t,n=0,i=[],r=C(e),o=r.length-1;n<=o;n++)t=n===o?this:this.clone(!0),C(r[n])[s](t),a.apply(i,t.get());return this.pushStack(i)}});var Te,Se,Ee={};function Ne(e,t){var n,i=C(t.createElement(e)).appendTo(t.body),r=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:C.css(i[0],"display");return i.detach(),r}function je(e){var t=k,n=Ee[e];return n||("none"!==(n=Ne(e,t))&&n||((t=((Te=(Te||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Te[0].contentDocument).document).write(),t.close(),n=Ne(e,t),Te.detach()),Ee[e]=n),n}y.shrinkWrapBlocks=function(){return null!=Se?Se:(Se=!1,(t=k.getElementsByTagName("body")[0])&&t.style?(e=k.createElement("div"),(n=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),typeof e.style.zoom!==A&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(k.createElement("div")).style.width="5px",Se=3!==e.offsetWidth),t.removeChild(n),Se):void 0);var e,t,n};var Fe,Ie,Le=/^margin/,Pe=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),Oe=/^(top|right|bottom|left)$/;function Ae(t,n){return{get:function(){var e=t();if(null!=e){if(!e)return(this.get=n).apply(this,arguments);delete this.get}}}}p.getComputedStyle?(Fe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):p.getComputedStyle(e,null)},Ie=function(e,t,n){var i,r,o,s,a=e.style;return s=(n=n||Fe(e))?n.getPropertyValue(t)||n[t]:undefined,n&&(""!==s||C.contains(e.ownerDocument,e)||(s=C.style(e,t)),Pe.test(s)&&Le.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),s===undefined?s:s+""}):k.documentElement.currentStyle&&(Fe=function(e){return e.currentStyle},Ie=function(e,t,n){var i,r,o,s,a=e.style;return null==(s=(n=n||Fe(e))?n[t]:undefined)&&a&&a[t]&&(s=a[t]),Pe.test(s)&&!Oe.test(t)&&(i=a.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),s===undefined?s:s+""||"auto"}),function(){var e,t,n,r,o,s,a;function i(){var e,t,n,i;(t=k.getElementsByTagName("body")[0])&&t.style&&(e=k.createElement("div"),(n=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=o=!1,a=!0,p.getComputedStyle&&(r="1%"!==(p.getComputedStyle(e,null)||{}).top,o="4px"===(p.getComputedStyle(e,null)||{width:"4px"}).width,(i=e.appendChild(k.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",e.style.width="1px",a=!parseFloat((p.getComputedStyle(i,null)||{}).marginRight),e.removeChild(i)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),t.removeChild(n))}(e=k.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(t=(n=e.getElementsByTagName("a")[0])&&n.style)&&(t.cssText="float:left;opacity:.5",y.opacity="0.5"===t.opacity,y.cssFloat=!!t.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===e.style.backgroundClip,y.boxSizing=""===t.boxSizing||""===t.MozBoxSizing||""===t.WebkitBoxSizing,C.extend(y,{reliableHiddenOffsets:function(){return null==s&&i(),s},boxSizingReliable:function(){return null==o&&i(),o},pixelPosition:function(){return null==r&&i(),r},reliableMarginRight:function(){return null==a&&i(),a}}))}(),C.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};var He=/alpha\([^)]*\)/i,De=/opacity\s*=\s*([^)]*)/,Re=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+q+")(.*)$","i"),Me=new RegExp("^([+-])=("+q+")","i"),$e={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},We=["Webkit","O","Moz","ms"];function ze(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=We.length;r--;)if((t=We[r]+n)in e)return t;return i}function Ue(e,t){for(var n,i,r,o=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(o[s]=C._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&z(i)&&(o[s]=C._data(i,"olddisplay",je(i.nodeName)))):(r=z(i),(n&&"none"!==n||!r)&&C._data(i,"olddisplay",r?n:C.css(i,"display"))));for(s=0;s<a;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function Ke(e,t,n){var i=Be.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Ve(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=C.css(e,n+W[o],!0,r)),i?("content"===n&&(s-=C.css(e,"padding"+W[o],!0,r)),"margin"!==n&&(s-=C.css(e,"border"+W[o]+"Width",!0,r))):(s+=C.css(e,"padding"+W[o],!0,r),"padding"!==n&&(s+=C.css(e,"border"+W[o]+"Width",!0,r)));return s}function Ze(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Fe(e),s=y.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Ie(e,t,o))<0||null==r)&&(r=e.style[t]),Pe.test(r))return r;i=s&&(y.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Ve(e,t,n||(s?"border":"content"),i,o)+"px"}function Qe(e,t,n,i,r){return new Qe.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ie(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":y.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=C.camelCase(t),c=e.style;if(t=C.cssProps[a]||(C.cssProps[a]=ze(c,a)),s=C.cssHooks[t]||C.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(e,!1,i))!==undefined?r:c[t];if("string"==(o=typeof n)&&(r=Me.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(C.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||C.cssNumber[a]||(n+="px"),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(s&&"set"in s&&(n=s.set(e,n,i))===undefined)))try{c[t]=n}catch(f){}}},css:function(e,t,n,i){var r,o,s,a=C.camelCase(t);return t=C.cssProps[a]||(C.cssProps[a]=ze(e.style,a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),o===undefined&&(o=Ie(e,t,i)),"normal"===o&&t in qe&&(o=qe[t]),""===n||n?(r=parseFloat(o),!0===n||C.isNumeric(r)?r||0:o):o}}),C.each(["height","width"],function(e,r){C.cssHooks[r]={get:function(e,t,n){if(t)return Re.test(C.css(e,"display"))&&0===e.offsetWidth?C.swap(e,$e,function(){return Ze(e,r,n)}):Ze(e,r,n)},set:function(e,t,n){var i=n&&Fe(e);return Ke(0,t,n?Ve(e,r,n,y.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,i),i):0)}}}),y.opacity||(C.cssHooks.opacity={get:function(e,t){return De.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===C.trim(o.replace(He,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=He.test(o)?o.replace(He,r):o+" "+r)}}),C.cssHooks.marginRight=Ae(y.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},Ie,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+W[t]+o]=i[t]||i[t-2]||i[0];return n}},Le.test(r)||(C.cssHooks[r+o].set=Ke)}),C.fn.extend({css:function(e,t){return U(this,function(e,t,n){var i,r,o={},s=0;if(C.isArray(t)){for(i=Fe(e),r=t.length;s<r;s++)o[t[s]]=C.css(e,t[s],!1,i);return o}return n!==undefined?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)},show:function(){return Ue(this,!0)},hide:function(){return Ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){z(this)?C(this).show():C(this).hide()})}}),((C.Tween=Qe).prototype={constructor:Qe,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=Qe.propHooks[this.prop];return e&&e.get?e.get(this):Qe.propHooks._default.get(this)},run:function(e){var t,n=Qe.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Qe.propHooks._default.set(this),this}}).init.prototype=Qe.prototype,(Qe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Qe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=Qe.prototype.init,C.fx.step={};var Xe,Ge,Je,Ye,et,tt,nt,it=/^(?:toggle|show|hide)$/,rt=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),ot=/queueHooks$/,st=[function(t,e,n){var i,r,o,s,a,c,l,u=this,d={},f=t.style,h=t.nodeType&&z(t),p=C._data(t,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(l=C.css(t,"display"))?C._data(t,"olddisplay")||je(t.nodeName):l)&&"none"===C.css(t,"float")&&(y.inlineBlockNeedsLayout&&"inline"!==je(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",y.shrinkWrapBlocks()||u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],it.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;h=!0}d[i]=p&&p[i]||C.style(t,i)}else l=undefined;if(C.isEmptyObject(d))"inline"===("none"===l?je(t.nodeName):l)&&(f.display=l);else for(i in p?"hidden"in p&&(h=p.hidden):p=C._data(t,"fxshow",{}),o&&(p.hidden=!h),h?C(t).show():u.done(function(){C(t).hide()}),u.done(function(){var e;for(e in C._removeData(t,"fxshow"),d)C.style(t,e,d[e])}),d)s=ut(h?p[i]:0,i,u),i in p||(p[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],at={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=rt.exec(t),o=r&&r[3]||(C.cssNumber[e]?"":"px"),s=(C.cssNumber[e]||"px"!==o&&+i)&&rt.exec(C.css(n.elem,e)),a=1,c=20;if(s&&s[3]!==o)for(o=o||s[3],r=r||[],s=+i||1;s/=a=a||".5",C.style(n.elem,e,s+o),a!==(a=n.cur()/i)&&1!==a&&--c;);return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};function ct(){return setTimeout(function(){Xe=undefined}),Xe=C.now()}function lt(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=W[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var i,r=(at[t]||[]).concat(at["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function dt(o,e,t){var n,s,i=0,r=st.length,a=C.Deferred().always(function(){delete c.elem}),c=function(){if(s)return!1;for(var e=Xe||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return a.notifyWith(o,[l,n,t]),n<1&&r?t:(a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Xe||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=C.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)l.tweens[t].run(1);return e?a.resolveWith(o,[l,e]):a.rejectWith(o,[l,e]),this}}),u=l.props;for(function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=C.camelCase(n)],o=e[n],C.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,l.opts.specialEasing);i<r;i++)if(n=st[i].call(l,o,u,l.opts))return n;return C.map(u,ut,l),C.isFunction(l.opts.start)&&l.opts.start.call(o,l),C.fx.timer(C.extend(c,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}C.Animation=C.extend(dt,{tweener:function(e,t){C.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],at[n]=at[n]||[],at[n].unshift(t)},prefilter:function(e,t){t?st.unshift(e):st.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),o=C.speed(e,n,i),s=function(){var e=dt(this,C.extend({},t),o);(r||C._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,e,o){var s=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=C.timers,i=C._data(this);if(t)i[t]&&i[t].stop&&s(i[t]);else for(t in i)i[t]&&i[t].stop&&ot.test(t)&&s(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=C._data(this),n=t[s+"queue"],i=t[s+"queueHooks"],r=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===s&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var r=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(lt(i,!0),e,t,n)}}),C.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=C.timers,n=0;for(Xe=C.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||C.fx.stop(),Xe=undefined},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Ge||(Ge=setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){clearInterval(Ge),Ge=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},(Ye=k.createElement("div")).setAttribute("className","t"),Ye.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",tt=Ye.getElementsByTagName("a")[0],nt=(et=k.createElement("select")).appendChild(k.createElement("option")),Je=Ye.getElementsByTagName("input")[0],tt.style.cssText="top:1px",y.getSetAttribute="t"!==Ye.className,y.style=/top/.test(tt.getAttribute("style")),y.hrefNormalized="/a"===tt.getAttribute("href"),y.checkOn=!!Je.value,y.optSelected=nt.selected,y.enctype=!!k.createElement("form").enctype,et.disabled=!0,y.optDisabled=!nt.disabled,(Je=k.createElement("input")).setAttribute("value",""),y.input=""===Je.getAttribute("value"),Je.value="t",Je.setAttribute("type","radio"),y.radioValue="t"===Je.value;var ft=/\r/g;C.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=C.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,C(this).val()):n)?t="":"number"==typeof t?t+="":C.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,t,"value")!==undefined||(this.value=t))})):t?(i=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&(e=i.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(ft,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:i.length,c=r<0?a:o?r:0;c<a;c++)if(((n=i[c]).selected||c===r)&&(y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=C.makeArray(t),s=r.length;s--;)if(i=r[s],0<=C.inArray(C.valHooks.option.get(i),o))try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},y.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ht,pt,mt=C.expr.attrHandle,gt=/^(?:checked|selected)$/i,yt=y.getSetAttribute,vt=y.input;C.fn.extend({attr:function(e,t){return U(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===A?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(t=t.toLowerCase(),i=C.attrHooks[t]||(C.expr.match.bool.test(t)?pt:ht)),n===undefined?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=C.find.attr(e,t))?undefined:r:null!==n?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(F);if(o&&1===e.nodeType)for(;n=o[r++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)?vt&&yt||!gt.test(n)?e[i]=!1:e[C.camelCase("default-"+n)]=e[i]=!1:C.attr(e,n,""),e.removeAttribute(yt?n:i)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),pt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):vt&&yt||!gt.test(n)?e.setAttribute(!yt&&C.propFix[n]||n,n):e[C.camelCase("default-"+n)]=e[n]=!0,n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=mt[t]||C.find.attr;mt[t]=vt&&yt||!gt.test(t)?function(e,t,n){var i,r;return n||(r=mt[t],mt[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,mt[t]=r),i}:function(e,t,n){if(!n)return e[C.camelCase("default-"+t)]?t.toLowerCase():null}}),vt&&yt||(C.attrHooks.value={set:function(e,t,n){if(!C.nodeName(e,"input"))return ht&&ht.set(e,t,n);e.defaultValue=t}}),yt||(ht={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},mt.id=mt.name=mt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},C.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:ht.set},C.attrHooks.contenteditable={set:function(e,t,n){ht.set(e,""!==t&&t,n)}},C.each(["width","height"],function(e,n){C.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),y.style||(C.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var _t=/^(?:input|select|textarea|button|object)$/i,wt=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return U(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return e=C.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),C.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,r=C.propHooks[t]),n!==undefined?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}}}),y.hrefNormalized||C.each(["href","src"],function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),y.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),y.enctype||(C.propFix.enctype="encoding");var bt=/[\t\r\n\f]/g;C.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,c=this.length,l="string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(F)||[];a<c;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(bt," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=C.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,c=this.length,l=0===arguments.length||"string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(F)||[];a<c;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(bt," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");s=t?C.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"===o?t?this.addClass(r):this.removeClass(r):C.isFunction(r)?this.each(function(e){C(this).toggleClass(r.call(this,e,this.className,t),t)}):this.each(function(){if("string"===o)for(var e,t=0,n=C(this),i=r.match(F)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!==A&&"boolean"!==o||(this.className&&C._data(this,"__className__",this.className),this.className=this.className||!1===r?"":C._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(bt," ").indexOf(t))return!0;return!1}}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var xt=C.now(),Ct=/\?/,kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;C.parseJSON=function(e){if(p.JSON&&p.JSON.parse)return p.JSON.parse(e+"");var r,o=null,t=C.trim(e+"");return t&&!C.trim(t.replace(kt,function(e,t,n,i){return r&&t&&(o=0),0===o?e:(r=n||t,o+=!i-!n,"")}))?Function("return "+t)():C.error("Invalid JSON: "+e)},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{p.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Tt,St,Et=/#.*$/,Nt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:GET|HEAD)$/,It=/^\/\//,Lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pt={},Ot={},At="*/".concat("*");try{St=location.href}catch(nn){(St=k.createElement("a")).href="",St=St.href}function Ht(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(F)||[];if(C.isFunction(t))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Dt(t,r,o,s){var a={},c=t===Ot;function l(e){var i;return a[e]=!0,C.each(t[e]||[],function(e,t){var n=t(r,o,s);return"string"!=typeof n||c||a[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),l(n),!1)}),i}return l(r.dataTypes[0])||!a["*"]&&l("*")}function Rt(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(i in t)t[i]!==undefined&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&C.extend(!0,e,n),e}Tt=Lt.exec(St.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rt(Rt(e,C.ajaxSettings),t):Rt(C.ajaxSettings,e)},ajaxPrefilter:Ht(Pt),ajaxTransport:Ht(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,i,u,d,f,h,p,r,m=C.ajaxSetup({},t),g=m.context||m,y=m.context&&(g.nodeType||g.jquery)?C(g):C.event,v=C.Deferred(),_=C.Callbacks("once memory"),w=m.statusCode||{},o={},s={},b=0,a="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!r)for(r={};t=jt.exec(d);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?d:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=s[n]=s[n]||e,o[e]=t),this},overrideMimeType:function(e){return b||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||a;return p&&p.abort(t),c(0,t),this}};if(v.promise(x).complete=_.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||St)+"").replace(Et,"").replace(It,Tt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(F)||[""],null==m.crossDomain&&(n=Lt.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Tt[1]&&n[2]===Tt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Dt(Pt,m,t,x),2===b)return x;for(i in(h=C.event&&m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ft.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Ct.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Nt.test(u)?u.replace(Nt,"$1_="+xt++):u+(Ct.test(u)?"&":"?")+"_="+xt++)),m.ifModified&&(C.lastModified[u]&&x.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&x.setRequestHeader("If-None-Match",C.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+At+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===b))return x.abort();for(i in a="abort",{success:1,error:1,complete:1})x[i](m[i]);if(p=Dt(Ot,m,t,x)){x.readyState=1,h&&y.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(f=setTimeout(function(){x.abort("timeout")},m.timeout));try{b=1,p.send(o,c)}catch(nn){if(!(b<2))throw nn;c(-1,nn)}}else c(-1,"No Transport");function c(e,t,n,i){var r,o,s,a,c,l=t;2!==b&&(b=2,f&&clearTimeout(f),p=undefined,d=i||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,r,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){c.unshift(s);break}if(c[0]in n)o=c[0];else{for(s in n){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==c[0]&&c.unshift(o),n[o]}(m,x,n)),a=function(e,t,n,i){var r,o,s,a,c,l={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=l[c+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(nn){return{state:"parsererror",error:s?nn:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(m,a,x,r),r?(m.ifModified&&((c=x.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=c),(c=x.getResponseHeader("etag"))&&(C.etag[u]=c)),204===e||"HEAD"===m.type?l="nocontent":304===e?l="notmodified":(l=a.state,o=a.data,r=!(s=a.error))):(s=l,!e&&l||(l="error",e<0&&(e=0))),x.status=e,x.statusText=(t||l)+"",r?v.resolveWith(g,[o,l,x]):v.rejectWith(g,[x,l,s]),x.statusCode(w),w=undefined,h&&y.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:s]),_.fireWith(g,[x,l]),h&&(y.trigger("ajaxComplete",[x,m]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,undefined,t,"script")}}),C.each(["get","post"],function(e,r){C[r]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=undefined),C.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},C.fn.extend({wrapAll:function(t){if(C.isFunction(t))return this.each(function(e){C(this).wrapAll(t.call(this,e))});if(this[0]){var e=C(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!y.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||C.css(e,"display"))},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var Bt=/%20/g,Mt=/\[\]$/,$t=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Wt=/^(?:input|select|textarea|keygen)/i;function zt(n,e,i,r){var t;if(C.isArray(e))C.each(e,function(e,t){i||Mt.test(n)?r(n,t):zt(n+"["+("object"==typeof t?e:"")+"]",t,i,r)});else if(i||"object"!==C.type(e))r(n,e);else for(t in e)zt(n+"["+t+"]",e[t],i,r)}C.param=function(e,t){var n,i=[],r=function(e,t){t=C.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){r(this.name,this.value)});else for(n in e)zt(n,e[n],t,r);return i.join("&").replace(Bt,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Wt.test(this.nodeName)&&!qt.test(e)&&(this.checked||!K.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:n.replace($t,"\r\n")}}).get()}}),C.ajaxSettings.xhr=p.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zt()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(nn){}}()}:Zt;var Ut=0,Kt={},Vt=C.ajaxSettings.xhr();function Zt(){try{return new p.XMLHttpRequest}catch(nn){}}p.attachEvent&&p.attachEvent("onunload",function(){for(var e in Kt)Kt[e](undefined,!0)}),y.cors=!!Vt&&"withCredentials"in Vt,(Vt=y.ajax=!!Vt)&&C.ajaxTransport(function(c){var l;if(!c.crossDomain||y.cors)return{send:function(e,o){var t,s=c.xhr(),a=++Ut;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)s[t]=c.xhrFields[t];for(t in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&s.setRequestHeader(t,e[t]+"");s.send(c.hasContent&&c.data||null),l=function(e,t){var n,i,r;if(l&&(t||4===s.readyState))if(delete Kt[a],l=undefined,s.onreadystatechange=C.noop,t)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(nn){i=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&o(n,i,r,s.getAllResponseHeaders())},c.async?4===s.readyState?setTimeout(l):s.onreadystatechange=Kt[a]=l:l()},abort:function(){l&&l(undefined,!0)}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),C.ajaxTransport("script",function(t){if(t.crossDomain){var i,r=k.head||C("head")[0]||k.documentElement;return{send:function(e,n){(i=k.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var Qt=[],Xt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||C.expando+"_"+xt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),o&&C.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),C.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||k;var i=_.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=C.buildFragment([e],t,r),r&&r.length&&C(r).remove(),C.merge([],i.childNodes))};var Gt=C.fn.load;C.fn.load=function(e,t,n){if("string"!=typeof e&&Gt)return Gt.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return 0<=a&&(i=C.trim(e.slice(a,e.length)),e=e.slice(0,a)),C.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),0<s.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};var Jt=p.document.documentElement;function Yt(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.offset={setOffset:function(e,t,n){var i,r,o,s,a,c,l=C.css(e,"position"),u=C(e),d={};"static"===l&&(e.style.position="relative"),a=u.offset(),o=C.css(e,"top"),c=C.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<C.inArray("auto",[o,c])?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),C.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,C.contains(e,r)?(typeof r.getBoundingClientRect!==A&&(i=r.getBoundingClientRect()),n=Yt(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===C.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(i,"marginTop",!0),left:t.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Jt;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Jt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o=/Y/.test(r);C.fn[t]=function(e){return U(this,function(e,t,n){var i=Yt(e);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[t]:e[t];i?i.scrollTo(o?C(i).scrollLeft():n,o?n:C(i).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Ae(y.pixelPosition,function(e,t){if(t)return t=Ie(e,n),Pe.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,s){C.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,e){C.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return U(this,function(e,t,n){var i;return C.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?C.css(e,t,r):C.style(e,t,n,r)},s,n?e:undefined,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var en=p.jQuery,tn=p.$;return C.noConflict=function(e){return p.$===C&&(p.$=tn),e&&p.jQuery===C&&(p.jQuery=en),C},typeof t===A&&(p.jQuery=p.$=C),C}),function(){"use strict";var u,d={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:undefined,compile:undefined,log:!0,encodeHTMLSource:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}}};u=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):u.doT=d;var f={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},h=/$^/;function p(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}d.template=function(e,t,n){var r,o,s=(t=t||d.templateSettings).append?f.append:f.split,a=0,c=t.use||t.define?function i(r,e,o){return("string"==typeof e?e:e.toString()).replace(r.define||h,function(e,i,t,n){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in o||(":"===t?(r.defineParams&&n.replace(r.defineParams,function(e,t,n){o[i]={arg:t,text:n}}),i in o||(o[i]=n)):new Function("def","def['"+i+"']="+n)(o)),""}).replace(r.use||h,function(e,t){r.useParams&&(t=t.replace(r.useParams,function(e,t,n,i){if(o[n]&&o[n].arg&&i){var r=(n+":"+i).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[r]=o[n].text.replace(new RegExp("(^|[^\\w$])"+o[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),t+"def.__exp['"+r+"']"}}));var n=new Function("def","return "+t)(o);return n?i(r,n,o):n})}(t,e,n||{}):e;c=("var out='"+(t.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(t.interpolate||h,function(e,t){return s.start+p(t)+s.end}).replace(t.encode||h,function(e,t){return r=!0,s.startencode+p(t)+s.end}).replace(t.conditional||h,function(e,t,n){return t?n?"';}else if("+p(n)+"){out+='":"';}else{out+='":n?"';if("+p(n)+"){out+='":"';}out+='"}).replace(t.iterate||h,function(e,t,n,i){return t?(a+=1,o=i||"i"+a,t=p(t),"';var arr"+a+"="+t+";if(arr"+a+"){var "+n+","+o+"=-1,l"+a+"=arr"+a+".length-1;while("+o+"<l"+a+"){"+n+"=arr"+a+"["+o+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||h,function(e,t){return"';"+p(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),r&&(t.selfcontained||!u||u._encodeHTML||(u._encodeHTML=d.encodeHTMLSource(t.doNotSkipEncoded)),c="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+d.encodeHTMLSource.toString()+"("+(t.doNotSkipEncoded||"")+"));"+c);try{return new Function(t.varname,c)}catch(l){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+c),l}},d.compile=function(e,t){return d.template(e,null,t)}}(),window.loginWin=function(e,t,n){var i=document.createElement("div"),r=document.createElement("div"),o=document.getElementsByTagName("BODY")[0];document.getElementsByTagName("HTML")[0],i.id="loginWinMask",r.id="loginWin",i.style.cssText="position: fixed;top: 0px;left: 0px;z-index: 100000000;width: 100%;height: 100%;background-color: #000;filter: alpha(opacity=50); opacity: .5;",r.style.cssText="position: fixed;top: 50%;left: 50%;z-index: 100000001;width: 450px;height: 472px;margin-top: -236px;margin-left: -200px;font-family: 'microsoft yahei';";var s=location.href;n?"#"==s.charAt(s.length-1)?"login"==t?src=e+"Pc/Login/iframe?returnUrl="+s+"hashAction-"+n:"register"==t&&(src=e+"Pc/Login/iframe#tab-2?returnUrl="+s+"hashAction-"+n):"login"==t?src=e+"Pc/Login/iframe?returnUrl="+s+"#hashAction-"+n:"register"==t&&(src=e+"Pc/Login/iframe#tab-2?returnUrl="+s+"#hashAction-"+n):(s.charAt(s.length-1),"login"==t?src=e+"Pc/Login/iframe?returnUrl="+s:"register"==t&&(src=e+"Pc/Login/iframe#tab-2?returnUrl="+s)),tipViewHtml="<div class='closeBtn' style='position: absolute;z-index: 1;top: 0;right: -52px;width: 32px;height: 32px;'><a id='loginWinCloseBtn' href='javascript:;' style='display: none;cursor: pointer;width: 32px;height: 32px;background: url("+e+"/pc/images/login/close.png) no-repeat center;background-size: 100%;' title='关闭'></a></div><iframe src='"+src+"' width='450px' height='472px' frameborder='0' scrolling='no' id='iframe_login'  allowtransparency='true'></iframe>",r.innerHTML=tipViewHtml,o.appendChild(i),o.appendChild(r);var a=document.getElementById("loginWinCloseBtn");a.onclick=function(){l(i),l(r)};var c=document.getElementById("iframe_login");function l(e){var t=e.parentNode;t&&t.removeChild(e)}c.attachEvent?c.attachEvent("onload",function(){a.style.display="block"}):c.onload=function(){a.style.display="block"}},$(function(){var e,t=window.location.search.substr(1).split("&"),n={};for(e=0;e<t.length;e++)aParamArr=t[e].split("="),aParamArr[0].length&&(n[aParamArr[0]]=decodeURI(aParamArr[1]));n.jsAction&&"function"==typeof window[n.jsAction]&&window[n.jsAction]()}),window.lodingTip=function(e){e=e||"";var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("i"),r=document.createElement("img"),o=document.createElement("br"),s=document.getElementsByTagName("BODY")[0];return"close"==e&&(removeElement(t),removeElement(n),removeElement(i)),t.style.cssText="position: fixed;top:50%;left: 50%;width: 235px;height: 118px;line-height:54px;margin-top: -59px;margin-left: -117px;z-index: 100000;border-radius: 6px;text-align: center;font-size: 16px;color: #fff;background:url("+loginSite+"/pc/images/login/successbg.png) no-repeat 0 0;",n.style.cssText="position:fixed;left:0;top:0;z-index:10000;width:100%;height:100%;",i.style.cssText=" position:relative;top:-3px;margin-left: 4px;font-style:normal;",r.style.cssText="position:relative;top:26px;width:26px;height:26px;",r.src=loginSite+"/pc/images/login/loading1.gif",i.innerHTML=e,t.appendChild(r),t.appendChild(o),t.appendChild(i),t.appendChild(n),s.appendChild(t),t},(window.KFZ||(window.KFZ={}))&&(window.KFZ.tools||(window.KFZ.tools={})),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),window.KFZ.tools.onErrorReplace=function(e,t,n){window.KFZ.tools.parseURL(t.src).path==e&&(t.onerror=null,n&&n.off("error")),t.src=e},window.KFZ.tools.loadImage=function(e,t){var n=new Image;n.onload=function(){n.onload=null,t&&t(n)},n.src=e},window.KFZ.tools.cookies=function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie){var r=document.cookie.indexOf(e+"=");if(-1!=r){r=r+e.length+1;var o=document.cookie.indexOf(";",r);-1==o&&(o=document.cookie.length),i=decodeURIComponent(document.cookie.substring(r,o))}}return i}n||(n={}),null===t&&(t="",n.expires=-1);var s,a="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,a="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),a,c,l,u].join("")},window.KFZ.tools.parseURL=function(e){e=e||location.href;var o=document.createElement("a");return{source:o.href=e,protocol:o.protocol.replace(":",""),host:o.hostname,port:o.port,query:o.search,hash:o.hash.replace("#",""),path:o.pathname.replace(/^([^\/])/,"/$1"),file:(o.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],relative:(o.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:o.pathname.replace(/^\//,"").split("/"),params:function(){for(var e,t={},n=o.search.replace(/^\?/,"").split("&"),i=n.length,r=0;r<i;r++)n[r]&&(t[(e=n[r].split("="))[0]]=e[1]);return t}()}},window.KFZ.tools.browserInfo=function(){var e=navigator.userAgent,t=-1<e.indexOf("Opera"),n=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE")&&!t,i=-1<e.indexOf("Windows NT 6.1; Trident/7.0;")&&!n,r=-1<e.indexOf("Firefox"),o=-1<e.indexOf("Safari")&&-1==e.indexOf("Chrome"),s=-1<e.indexOf("Chrome")&&-1<e.indexOf("Safari");if(n){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var a=parseFloat(RegExp.$1);return 7==a?"IE7":8==a?"IE8":9==a?"IE9":10==a?"IE10":11==a?"IE11":"0"}return r?"FF":t?"Opera":o?"Safari":s?"Chrome":i?"Edge":void 0},window.KFZ.tools.contactManager={debug:!1,events:{},eventsWatch:{},on:function(e,t,n){var i=n||{};return this.events[e]=this.events[e]||[],this.events[e].push({description:i.description,from:i.from,once:i.once,run:"function"==typeof t?t:function(){}}),this.events[e].length},watch:function(e,t,n){for(var i=n||{},r=e.length,o={};r--;)this.events[e[r]]||this.on(e[r]),this.eventsWatch[e[r]]=this.eventsWatch[e[r]]||[],this.eventsWatch[e[r]].push({description:i.description,from:i.from,run:"function"==typeof t?t:function(){}}),o[e[r]]=this.eventsWatch[e[r]].length;return o},off:function(e,t,n){return e?"watch"==t?0<=n?this.eventsWatch[e]&&this.eventsWatch[e][n]&&(this.eventsWatch[e][n]=null):this.eventsWatch[e]&&delete this.eventsWatch[e]:"on"==t&&0<=n?this.events[e]&&this.events[e][n]&&(this.events[e][n]=null):this.events[e]&&delete this.events[e]:this.events={},this},run:function(e,t){var n=t||{};if(this.events[e])for(var i=this.events[e],r=i.length;r--;){this.eventRun(i[r],n.param);var o={eventName:e,onFrom:i[r].from,onDescription:i[r].description,runFrom:n.from,runDescription:n.description,runParam:n.param};this.console(o)}if(this.eventsWatch[e])for(var s=this.eventsWatch[e],a=s.length;a--;)this.eventRun(s[a],n.param);return this},eventRun:function(e,t){setTimeout(function(){e.run(t)},0)},console:function(e){this.debug&&window.console&&(window.console.group(e.eventName),window.console.log("注册来源：",e.onFrom?e.onFrom:"未知来源"),window.console.log("事件描述：",e.onDescription?e.onDescription:"未知描述"),window.console.log("触发来源：",e.runFrom?e.runFrom:"未知来源"),window.console.log("触发条件：",e.runDescription?e.runDescription:"未知条件"),window.console.log("触发时间：",(new Date).toLocaleString()),window.console.log("传递的参数：",e.runParam),window.console.groupEnd())}},window.KFZ.tools.receiverName=function(e){return e.replace(new RegExp(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"].join("|"),"g"),"?")},function(e,t){var o,n;e.widgets||(e.widgets={}),e.widgets["nav/index"]=((n={base:"/",userInfo:{},delCartInfo:{},delCartDom:"",cartNum:"",cartTime:0,tpl:{areaTpl:(o=e.jQuery)("#area-tpl").html(),nickNameTpl:o("#nick-name-tpl").html(),loginTpl:o("#login-tpl").html(),noLoginTpl:o("#no-login-tpl").html(),sellerCenterTpl:o("#seller-center-tpl").html(),cartListTpl:o("#cart-list-tpl").html(),cartNoneTpl:o("#cart-none-tpl").html(),noLoginCartNoneTpl:o("#no-login-cart-none-tpl").html(),qrCodeTpl:o("#qr-code-tpl").html(),navLoadTpl:o("#nav-load-tpl").html()},dom:{navHeader:o("#navHeader"),areaText:o("#areaText"),areaWin:o("#areaWin"),msgNum:o("#msgNum"),nickName:o("#nickName"),loginWin:o("#loginWin"),sellerWin:o("#sellerWin"),cartListWin:o("#cartListWin"),cartLink:o("#cartLink"),cartNum:o("#cartNum"),unReadNum:o("#unReadNum"),codeWim:o("#codeWim")},areaInfo:{1e9:"北京",2e9:"上海",3e9:"天津",4e9:"重庆",5e9:"安徽",6e9:"福建",7e9:"甘肃",8e9:"广东",9e9:"广西",1e10:"贵州",11e9:"海南",12e9:"河北",13e9:"河南",14e9:"黑龙江",15e9:"湖北",16e9:"湖南",17e9:"吉林",18e9:"江苏",19e9:"江西",2e10:"辽宁",21e9:"内蒙古",22e9:"宁夏",23e9:"青海",24e9:"山东",25e9:"山西",26e9:"陕西",27e9:"四川",28e9:"西藏",29e9:"新疆",3e10:"云南",31e9:"浙江",32e9:"澳门",33e9:"台湾",34e9:"香港",4e10:"海外"},getUserInfo:function(t){var n=this;o.ajax({url:KFZ.site.users+"Newpc/getUserInfo",type:"GET",dataType:"jsonp",cache:!1,timeout:3e3,success:function(e){e.status&&(e.data.isLogin?(window.KFZ.userInfo=n.userInfo=e.data,n.userInfoLoadedNotice(e.data,"用户信息加载完成 init"),n.statusInit(),n.areaInit(),n.imNoticeConnectNotice("进行消息连接")):(n.areaInit(),t&&"function"==typeof window.loginWin&&window.loginWin(KFZ.site.login,"login")))},error:function(){n.areaInit(),t&&"function"==typeof window.loginWin&&window.loginWin(KFZ.site.login,"login")}})},init:function(){var e=this;window.KFZ.userInfo||(window.KFZ.userInfo={}),this.initNav(),setTimeout(function(){e.loadRender(),e.codeRender(),e.getUserInfo(),e.getCartList(!0)})},initNav:function(){this.contactManagerConf(),this.statusInit(),this.navFocusWatch(),this.cartListInit(),this.loginInit()},contactManagerConf:function(){var t=this;window.KFZ.tools.contactManager.on("msgNotice",function(e){t.UnreadNumRender(e)},{from:"公共头部",description:"未读消息数量发生变化 -> 同步头部消息数量 contactManagerConf"}),window.KFZ.tools.contactManager.on("areaNotice",function(e){(e=e||window.KFZ.tools.cookies("reciever_area"))&&9<e.length&&(e=e.slice(0,e.length-9)+"000000000",t.userInfo.area=e,t.updateArea(e))},{from:"公共头部",description:"监听用户所在地变化通知 -> 同步用户所在地信息 contactManagerConf"}),window.KFZ.tools.contactManager.on("cartNotice",function(){t.getCartList()},{from:"公共头部",description:"监听购物车数量变化通知 -> 同步购物车数量 contactManagerConf"})},loadRender:function(){var e=doT.template(this.tpl.navLoadTpl);this.dom.cartListWin.find(".load-box").html(e({base:this.base}))},codeRender:function(){var e=doT.template(this.tpl.qrCodeTpl);this.dom.codeWim.html(e({base:this.base}))},statusInit:function(){this.userInfo.isLogin?(this.nickNameRender(),this.loginWinRender()):this.noLoginWinRender(),this.sellerWinRender()},UnreadNumRender:function(e){"normal"==(0<e?"":"normal")?(this.dom.msgNum.removeClass("msg-un-read").addClass("msg-normal"),this.dom.unReadNum.html("")):(this.dom.msgNum.removeClass("msg-normal").addClass("msg-un-read"),99<e?this.dom.unReadNum.html("99+"):this.dom.unReadNum.html(e))},getCartList:function(t){var n=this;o.ajax({url:KFZ.site.carts+"jsonp/listcart",type:"GET",dataType:"jsonp",data:{limit:5},success:function(e){e.status&&e.result.data&&(t||n.userInfo.isLogin||n.getUserInfo(),n.cartListRender(e.result))}})},cartListRender:function(e){var t=this,n="",i=e.data,r=e.page.recordCount;this.cartNum=1*r,0==e.data.length?(this.dom.cartNum.html(""),n=this.userInfo.isLogin?doT.template(this.tpl.cartNoneTpl)():doT.template(this.tpl.noLoginCartNoneTpl)()):(this.dom.cartNum.html(e.page.recordCount),n=doT.template(this.tpl.cartListTpl)({cartList:i,cartNum:r,base:this.base})),this.dom.cartListWin.html(n),this.dom.cartListWin.find("img").on("error",function(){window.KFZ.tools.onErrorReplace(t.base+"static/kfz-navHeader/error.jpg",this,o(this))})},nickNameRender:function(){var e=doT.template(this.tpl.nickNameTpl);this.dom.nickName.html(e({nickName:this.userInfo.nickname}))},currentUrl:function(){var e=window.location.hash.substr(1).replace(/\?.*/g,""),t=window.location.href.replace(/#[\w-\/]*/gi,"").replace(/\?returnUrl=.*$/,"");return"?returnUrl="+encodeURIComponent(t+(e?(/\?/.test(t)?"&":"?")+"hash="+e:""))},loginWinRender:function(){var t=this,e=doT.template(this.tpl.loginTpl);this.dom.loginWin.html(e()),window.KFZ.userInfo.photo&&window.KFZ.tools.loadImage(window.KFZ.userInfo.photo,function(e){t.dom.loginWin.find(".pic-img").attr("src",window.KFZ.userInfo.photo).removeClass("hide"),t.dom.loginWin.find(".pic-ico").hide()}),this.dom.loginWin.find(".logout-btn").click(function(){location.href=window.KFZ.site.login+"logout/"+t.currentUrl()})},sellerWinRender:function(){var e=doT.template(this.tpl.sellerCenterTpl);this.dom.sellerWin.html(e({userType:this.userInfo.userType||[]}))},noLoginWinRender:function(){var t=this,e=doT.template(this.tpl.noLoginTpl);this.dom.loginWin.html(e()),this.dom.loginWin.find(".icon-btn").click(function(){var e="";switch(o(this).attr("type")){case"weixin":e="Pc/Openweixin/loginOAuth2";break;case"qq":e="/Pc/Openqq/loginOAuth2";break;case"weibo":e="Pc/Openweibo/loginOAuth2"}location.href=window.KFZ.site.login+e+t.currentUrl()})},areaInit:function(){var i=this,e=this.userInfo.area||window.KFZ.tools.cookies("reciever_area");e||(e="1000000000");var t=e.slice(0,e.length-9)+"000000000";this.areaInfo[t]||(t=e="1000000000"),this.setArea({area:e}),this.userInfo.area=t,this.dom.areaText.html("送至 "+this.areaInfo[t]),this.areaRender(),this.dom.areaWin.find(".text").click(function(e){e.stopPropagation();var t=o(this),n=t.attr("code");i.updateArea(n,t)&&i.setArea({area:n})})},areaRender:function(){var e=doT.template(this.tpl.areaTpl);this.dom.areaWin.html(e({areaList:this.areaInfo,active:this.userInfo.area||""}))},updateArea:function(e,t){e=e;var n=this.areaInfo[e],i=t||this.dom.areaWin.find(".text[code="+e+"]");return!i.parent().hasClass("active")&&(i.parent().addClass("active").siblings(".active").removeClass("active").parents(".item-info").removeClass("info-focus-active"),this.dom.areaText.html("送至 "+n),this.userInfo.area=e,this.userInfo.areaName=n,!0)},setArea:function(t){var n=this;o.ajax({url:KFZ.site.users+"Newpc/setUserArea",type:"GET",dataType:"jsonp",data:t,success:function(e){e.status&&n.updateAreaNotice(t.area,"选择用户所在地 areaInit")}})},navFocusWatch:function(){var t=this;"PC"===this.isPc()?this.dom.navHeader.find(".item-info").mouseenter(function(){var e=o(this);e.attr("name"),e.addClass("info-focus-active")}).mouseleave(function(){o(this).removeClass("info-focus-active"),t.dom.cartListWin.find(".revoke-btn").hide(),t.delCartDom&&t.delCartDom.remove()}):(this.dom.navHeader.find(".item-info").mouseenter(function(){var e=o(this);e.attr("name"),e.addClass("info-focus-active")}).mouseleave(function(){o(this).removeClass("info-focus-active"),t.dom.cartListWin.find(".revoke-btn").hide(),t.delCartDom&&t.delCartDom.remove()}),this.dom.navHeader.find(".dest").click(function(){var e=o(this);e.attr("name"),e.addClass("info-focus-active")})),this.dom.cartLink.mouseenter(function(){var e=(new Date).getTime();1e3<e-t.cartTime&&(t.cartTime=e,t.getCartList())})},isPc:function(){return/phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/i.test(navigator.userAgent)?"WEB":"PC"},cartListInit:function(){var r=this;this.dom.cartListWin.delegate(".del-btn","click",function(){var e=o(this).parents(".item"),t=e.attr("shopid"),n=e.attr("itemid"),i={carts:[{cartId:e.attr("cartid"),itemId:n}]};r.delCartInfo={shopId:t,itemId:n,num:1},r.delCartItem(i,e)}).delegate(".revoke-btn","click",function(){r.addCartItem(),o(this).hide()}).delegate(".login-btn","click",function(){r.getUserInfo(!0)})},delCartItem:function(t,n){var i=this;o.ajax({url:KFZ.site.carts+"jsonp/delCartItem",type:"GET",dataType:"jsonp",data:t,success:function(e){e.status?(n.hide(),i.cartNum-=1,i.dom.cartNum.html(i.cartNum),i.delCartDom=n,i.dom.cartListWin.find(".revoke-btn").show(),i.delCartNotice(t,"删除购物车操作成功后 delCartItem")):console.log("删除失败，请重试！")}})},addCartItem:function(){var t=this;o.ajax({url:KFZ.site.carts+"jsonp/add/",type:"GET",dataType:"jsonp",data:t.delCartInfo,success:function(e){e.status?(t.dom.cartListWin.find(".item-list").prepend(t.delCartDom),t.delCartDom.show(),t.cartNum+=1,t.dom.cartNum.html(t.cartNum),t.revokeCartNotice("加入购物车成功后 addCartItem")):console.log("撤销失败，请重新添加该商品！")}})},loginInit:function(){var e=this;this.dom.loginWin.delegate(".login-btn","click",function(){e.getUserInfo(!0)}).delegate(".register-btn","click",function(){"function"==typeof window.loginWin&&window.loginWin(KFZ.site.login,"register")})},delCartNotice:function(e,t){window.KFZ.tools.contactManager.run("delCart",{param:e,from:"公共头部",description:t||"未知描述"})},revokeCartNotice:function(e){window.KFZ.tools.contactManager.run("revokeCart",{from:"公共头部",description:e||"未知描述"})},updateAreaNotice:function(e,t){window.KFZ.tools.contactManager.run("updateArea",{param:e,from:"公共头部",description:t||"未知描述"})},userInfoLoadedNotice:function(e,t){window.KFZ.tools.contactManager.run("userInfoLoaded",{param:e,from:"公共头部",description:t||"未知描述"})},imNoticeConnectNotice:function(e){window.KFZ.tools.contactManager.run("imNoticeConnect",{from:"公共头部",description:e||"未知描述"})}}).init(),n)}("undefined"!=typeof window?window:this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function o(s,a,c){function l(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof _dereq_&&_dereq_;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[t]={exports:{}};s[t][0].call(r.exports,function(e){return l(s[t][1][e]||e)},r,r.exports,o,s,a,c)}return a[t].exports}for(var u="function"==typeof _dereq_&&_dereq_,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){"use strict";t.exports=function(e){var i=e._SomePromiseArray;function t(e){var t=new i(e),n=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),n}e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";var i;try{throw new Error}catch(d){i=d}var r=e("./schedule"),o=e("./queue"),s=e("./util");function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=r}function c(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function l(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function u(e){this._normalQueue._pushOne(e),this._queueTick()}a.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},a.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},a.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(d){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(a.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?c.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},a.prototype.invoke=function(e,t,n){this._trampolineEnabled?l.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},a.prototype.settlePromises=function(e){this._trampolineEnabled?u.call(this,e):this._schedule(function(){e._settlePromises()})}):(a.prototype.invokeLater=c,a.prototype.invoke=l,a.prototype.settlePromises=u),a.prototype._drainQueue=function(e){for(;0<e.length();){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},a.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},t.exports=a,t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(o,s,a,c){var l=!1,n=function(e,t){this._reject(t)},u=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(n,n,null,this,e)},d=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},f=function(e,t){t.promiseRejectionQueued||this._reject(e)};o.prototype.bind=function(e){l||(l=!0,o.prototype._propagateFrom=c.propagateFromFunction(),o.prototype._boundValue=c.boundValueFunction());var t=a(e),n=new o(s);n._propagateFrom(this,1);var i=this._target();if(n._setBoundTo(t),t instanceof o){var r={promiseRejectionQueued:!1,promise:n,target:i,bindingPromise:t};i._then(s,u,undefined,n,r),t._then(d,f,undefined,n,r),n._setOnCancel(t)}else n._resolveCallback(i);return n},o.prototype._setBoundTo=function(e){e!==undefined?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},o.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},o.bind=function(e,t){return o.resolve(t).bind(e)}}},{}],4:[function(e,t,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(e){}return r},t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(r){var o=e("./util"),i=o.canEvaluate;function n(e){return function(e,t){var n;if(null!=e&&(n=e[t]),"function"!=typeof n){var i="Object "+o.classString(e)+" has no method '"+o.toString(t)+"'";throw new r.TypeError(i)}return n}(e,this.pop()).apply(e,this)}function s(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}o.isIdentifier,r.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,undefined,undefined,t,undefined)},r.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(i){var n=(void 0)(e);t=null!==n?n:s}else t=s;return this._then(t,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(c,e,t){"use strict";e.exports=function(e,t,n,i){var r=c("./util"),o=r.tryCatch,s=r.errorObj,a=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,undefined))},e.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=undefined},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(e!==undefined)if("function"==typeof e){if(!t){var i=o(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),a.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(d){var f=e("./util"),h=e("./es5").keys,p=f.tryCatch,m=f.errorObj;return function(c,l,u){return function(e){var t=u._boundValue();e:for(var n=0;n<c.length;++n){var i=c[n];if(i===Error||null!=i&&i.prototype instanceof Error){if(e instanceof i)return p(l).call(t,e)}else if("function"==typeof i){var r=p(i).call(t,e);if(r===m)return r;if(r)return p(l).call(t,e)}else if(f.isObject(e)){for(var o=h(i),s=0;s<o.length;++s){var a=o[s];if(i[a]!=e[a])continue e}return p(l).call(t,e)}}return d}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(o){var s=!1,n=[];function a(){this._trace=new a.CapturedTrace(c())}function c(){var e=n.length-1;return 0<=e?n[e]:undefined}return o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){},a.prototype._pushContext=function(){this._trace!==undefined&&(this._trace._promiseCreated=null,n.push(this._trace))},a.prototype._popContext=function(){if(this._trace!==undefined){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},a.CapturedTrace=null,a.create=function(){if(s)return new a},a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var e=o.prototype._pushContext,t=o.prototype._popContext,n=o._peekContext,i=o.prototype._peekContext,r=o.prototype._promiseCreated;a.deactivateLongStackTraces=function(){o.prototype._pushContext=e,o.prototype._popContext=t,o._peekContext=n,o.prototype._peekContext=i,o.prototype._promiseCreated=r,s=!1},s=!0,o.prototype._pushContext=a.prototype._pushContext,o.prototype._popContext=a.prototype._popContext,o._peekContext=o.prototype._peekContext=c,o.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},a}},{}],9:[function(X,e,t){"use strict";e.exports=function(s,i){var r,o,a,n=s._getDomain,c=s._async,l=X("./errors").Warning,u=X("./util"),d=u.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,g=null,y=!1,e=!(0==u.env("BLUEBIRD_DEBUG")),t=!(0==u.env("BLUEBIRD_WARNINGS")||!e&&!u.env("BLUEBIRD_WARNINGS")),v=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!e&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),_=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(t||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));s.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},s.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},s.prototype._notifyUnhandledRejectionIsHandled=function(){$("rejectionHandled",r,undefined,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},s.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),$("unhandledRejection",o,e,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},s.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},s.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},s.prototype._warn=function(e,t,n){return D(e,t,n||this)},s.onPossiblyUnhandledRejection=function(e){var t=n();o="function"==typeof e?null===t?e:u.domainBind(t,e):undefined},s.onUnhandledRejectionHandled=function(e){var t=n();r="function"==typeof e?null===t?e:u.domainBind(t,e):undefined};var w=function(){};s.longStackTraces=function(){if(c.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Q.longStackTraces&&W()){var e=s.prototype._captureStackTrace,t=s.prototype._attachExtraTrace;Q.longStackTraces=!0,w=function(){if(c.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");s.prototype._captureStackTrace=e,s.prototype._attachExtraTrace=t,i.deactivateLongStackTraces(),c.enableTrampoline(),Q.longStackTraces=!1},s.prototype._captureStackTrace=A,s.prototype._attachExtraTrace=H,i.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},s.hasLongStackTraces=function(){return Q.longStackTraces&&W()};var b=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(n)}}return"function"==typeof Event?(e=new Event("CustomEvent"),u.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!u.global.dispatchEvent(n)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!u.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),x=u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),n=u.global[t];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(e,t){return{promise:t}}var k={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:C},T=function(e){var t=!1;try{t=x.apply(null,arguments)}catch(r){c.throwLater(r),t=!0}var n=!1;try{n=b(e,k[e].apply(null,arguments))}catch(r){c.throwLater(r),n=!0}return n||t};function S(){return!1}function E(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));i._attachCancellationCallback(e)})}catch(o){return o}}function N(e){if(!this._isCancellable())return this;var t=this._onCancel();t!==undefined?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function j(){return this._onCancelField}function F(e){this._onCancelField=e}function I(){this._cancellationParent=undefined,this._onCancelField=undefined}function L(e,t){if(0!=(1&t)){var n=(this._cancellationParent=e)._branchesRemainingToCancel;n===undefined&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}s.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?s.longStackTraces():!e.longStackTraces&&s.hasLongStackTraces()&&w()),"warnings"in e){var t=e.warnings;Q.warnings=!!t,_=Q.warnings,u.isObject(t)&&"wForgottenReturn"in t&&(_=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!Q.cancellation){if(c.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=I,s.prototype._propagateFrom=L,s.prototype._onCancel=j,s.prototype._setOnCancel=F,s.prototype._attachCancellationCallback=N,s.prototype._execute=E,P=L,Q.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!Q.monitoring?(Q.monitoring=!0,s.prototype._fireEvent=T):!e.monitoring&&Q.monitoring&&(Q.monitoring=!1,s.prototype._fireEvent=S)),s},s.prototype._fireEvent=S,s.prototype._execute=function(e,t,n){try{e(t,n)}catch(r){return r}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(e){},s.prototype._attachCancellationCallback=function(e){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(e,t){};var P=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function O(){var e=this._boundTo;return e!==undefined&&e instanceof s?e.isFulfilled()?e.value():undefined:e}function A(){this._trace=new V(this._peekContext())}function H(e,t){if(d(e)){var n=this._trace;if(n!==undefined&&t&&(n=n._parent),n!==undefined)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=B(e);u.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function D(e,t,n){if(Q.warnings){var i,r=new l(e);if(t)n._attachExtraTrace(r);else if(Q.longStackTraces&&(i=s._peekContext()))i.attachExtraTrace(r);else{var o=B(r);r.stack=o.message+"\n"+o.stack.join("\n")}T("warning",r)||M(r,"",!0)}}function R(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||h.test(i),o=r&&z(i);r&&!o&&(y&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function B(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&0<t.length?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||h.test(i))break}return 0<n&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:R(t)}}function M(e,t,n){if("undefined"!=typeof console){var i;if(u.isObject(e)){var r=e.stack;i=t+g(r,e)}else i=t+String(e);"function"==typeof a?a(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function $(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(a){c.throwLater(a)}"unhandledRejection"===e?T(e,n,i)||r||M(n,"Unhandled rejection "):T(e,i)}function q(e){var t,n;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():u.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+((n=t).length<41?n:n.substr(0,38)+"...")+">, no stack trace)"}function W(){return"function"==typeof Z}var z=function(){return!1},U=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function K(e){var t=e.match(U);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function V(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);Z(this,V),32<t&&this.uncycle()}u.inherits(V,Error),(i.CapturedTrace=V).prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;r!==undefined;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;0<=i;--i){var o=t[i].stack;n[o]===undefined&&(n[o]=i)}for(i=0;i<e;++i){var s=n[t[i].stack];if(s!==undefined&&s!==i){0<s&&(t[s-1]._parent=undefined,t[s-1]._length=1),t[i]._parent=undefined,t[i]._length=1;var a=0<i?t[i-1]:this;s<e-1?(a._parent=t[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=undefined,a._length=1);for(var c=a._length+1,l=i-2;0<=l;--l)t[l]._length=c,c++;return}}}},V.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=B(e),n=t.message,i=[t.stack],r=this;r!==undefined;)i.push(R(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],s=-1,a=i.length-1;0<=a;--a)if(i[a]===o){s=a;break}for(a=s;0<=a;--a){var c=i[a];if(t[r]!==c)break;t.pop(),r--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),u.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,i)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var Z=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:t.name!==undefined&&t.message!==undefined?t.toString():q(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,h=e,g=t;var n=Error.captureStackTrace;return z=function(e){return f.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&0<=r.stack.split("\n")[0].indexOf("stackDetection@"))return h=/@/,g=t,y=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(a){i="stack"in a}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||t.name===undefined||t.message===undefined?q(t):t.toString()},null):(h=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(a){e.stack=a.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(a=function(e){console.warn(e)},u.isNode&&process.stderr.isTTY?a=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(a=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var Q={warnings:t,longStackTraces:!1,cancellation:!1,monitoring:!1};return v&&s.longStackTraces(),{longStackTraces:function(){return Q.longStackTraces},warnings:function(){return Q.warnings},cancellation:function(){return Q.cancellation},monitoring:function(){return Q.monitoring},propagateFromFunction:function(){return P},boundValueFunction:function(){return O},checkForgottenReturns:function(e,t,n,i,r){if(e===undefined&&null!==t&&_){if(r!==undefined&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",s="";if(t._trace){for(var a=t._trace.stack.split("\n"),c=R(a),l=c.length-1;0<=l;--l){var u=c[l];if(!p.test(u)){var d=u.match(m);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(0<c.length){var f=c[0];for(l=0;l<a.length;++l)if(a[l]===f){0<l&&(s="\n"+a[l-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i._warn(h,!0,t)}},setBounds:function(e,t){if(W()){for(var n,i,r=e.stack.split("\n"),o=t.stack.split("\n"),s=-1,a=-1,c=0;c<r.length;++c)if(l=K(r[c])){n=l.fileName,s=l.line;break}for(c=0;c<o.length;++c){var l;if(l=K(o[c])){i=l.fileName,a=l.line;break}}s<0||a<0||!n||!i||n!==i||a<=s||(z=function(e){if(f.test(e))return!0;var t=K(e);return!!(t&&t.fileName===n&&s<=t.line&&t.line<=a)})}},warn:D,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),D(n)},CapturedTrace:V,fireDomEvent:b,fireGlobalEvent:x}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(n){function i(){return this.value}function r(){throw this.reason}n.prototype["return"]=n.prototype.thenReturn=function(e){return e instanceof n&&e.suppressUnhandledRejections(),this._then(i,undefined,undefined,{value:e},undefined)},n.prototype["throw"]=n.prototype.thenThrow=function(e){return this._then(r,undefined,undefined,{reason:e},undefined)},n.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(undefined,r,undefined,{reason:e},undefined);var t=arguments[1];return this.caught(e,function(){throw t})},n.prototype.catchReturn=function(e){if(arguments.length<=1)return e instanceof n&&e.suppressUnhandledRejections(),this._then(undefined,i,undefined,{value:e},undefined);var t=arguments[1];return t instanceof n&&t.suppressUnhandledRejections(),this.caught(e,function(){return t})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,n){var i=e.reduce,t=e.all;function r(){return t(this)}e.prototype.each=function(e){return i(this,e,n,0)._then(r,undefined,undefined,this,undefined)},e.prototype.mapSeries=function(e){return i(this,e,n,n)},e.each=function(e,t){return i(e,t,n,0)._then(r,undefined,undefined,e,undefined)},e.mapSeries=function(e,t){return i(e,t,n,n)}}},{}],12:[function(e,t,n){"use strict";var i,r,o=e("./es5"),s=o.freeze,a=e("./util"),c=a.inherits,l=a.notEnumerableProp;function u(t,n){function i(e){if(!(this instanceof i))return new i(e);l(this,"message","string"==typeof e?e:n),l(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(i,Error),i}var d=u("Warning","warning"),f=u("CancellationError","cancellation error"),h=u("TimeoutError","timeout error"),p=u("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(w){i=u("TypeError","type error"),r=u("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<m.length;++g)"function"==typeof Array.prototype[m[g]]&&(p.prototype[m[g]]=Array.prototype[m[g]]);o.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var y=0;function v(e){if(!(this instanceof v))return new v(e);l(this,"name","OperationalError"),l(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(l(this,"message",e.message),l(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];t+=(i=r.join("\n"))+"\n"}return y--,t},c(v,Error);var _=Error.__BluebirdErrorTypes__;_||(_=s({CancellationError:f,TimeoutError:h,OperationalError:v,RejectionError:v,AggregateError:p}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return this===undefined}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}},keys:a,names:a,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(t){return s}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,i){var r=e.map;e.prototype.filter=function(e,t){return r(this,e,t,i)},e.filter=function(e,t,n){return r(e,t,n,i)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(a,s,c){var l=e("./util"),u=a.CancellationError,d=l.errorObj,f=e("./catch_filter")(c);function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function h(e){this.finallyHandler=e}function p(e,t){return null!=e.cancelPromise&&(1<arguments.length?e.cancelPromise._reject(t):e.cancelPromise._cancel(),!(e.cancelPromise=null))}function m(){return y.call(this,this.promise._target()._settledValue())}function g(e){if(!p(this,e))return d.e=e,d}function y(e){var t=this.promise,n=this.handler;if(!this.called){this.called=!0;var i=this.isFinallyHandler()?n.call(t._boundValue()):n.call(t._boundValue(),e);if(i===c)return i;if(i!==undefined){t._setReturnedNonUndefined();var r=s(i,t);if(r instanceof a){if(null!=this.cancelPromise){if(r._isCancelled()){var o=new u("late cancellation observer");return t._attachExtraTrace(o),d.e=o,d}r.isPending()&&r._attachCancellationCallback(new h(this))}return r._then(m,g,undefined,this,undefined)}}}return t.isRejected()?(p(this),d.e=e,d):(p(this),e)}return r.prototype.isFinallyHandler=function(){return 0===this.type},h.prototype._resultCancelled=function(){p(this.finallyHandler)},a.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,undefined,new r(this,t,e),undefined)},a.prototype.lastly=a.prototype["finally"]=function(e){return this._passThrough(e,0,y,y)},a.prototype.tap=function(e){return this._passThrough(e,1,y)},a.prototype.tapCatch=function(e){var t=arguments.length;if(1===t)return this._passThrough(e,1,undefined,y);var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!l.isObject(o))return a.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(o)));i[r++]=o}i.length=r;var s=arguments[n];return this._passThrough(f(i,s,this),1,undefined,y)},r}},{"./catch_filter":7,"./util":36}],16:[function(n,e,t){"use strict";e.exports=function(a,i,s,c,e,l){var u=n("./errors").TypeError,t=n("./util"),d=t.errorObj,f=t.tryCatch,h=[];function p(e,t,n,i){if(l.cancellation()){var r=new a(s),o=this._finallyPromise=new a(s);this._promise=r.lastly(function(){return o}),r._captureStackTrace(),r._setOnCancel(this)}else(this._promise=new a(s))._captureStackTrace();this._stack=i,this._generatorFunction=e,this._receiver=t,this._generator=undefined,this._yieldHandlers="function"==typeof n?[n].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}t.inherits(p,e),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,l.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if("undefined"!=typeof this._generator["return"])this._promise._pushContext(),e=f(this._generator["return"]).call(this._generator,undefined),this._promise._popContext();else{var t=new a.CancellationError("generator .return() sentinel");a.coroutine.returnSentinel=t,this._promise._attachExtraTrace(t),this._promise._pushContext(),e=f(this._generator["throw"]).call(this._generator,t),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof a){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=undefined,this._promiseFulfilled(undefined)},p.prototype._continue=function(e){var t=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?t.cancel():t._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?t.cancel():t._resolveCallback(n);var i=c(n,this._promise);if(i instanceof a||null!==(i=function(e,t,n){for(var i=0;i<t.length;++i){n._pushContext();var r=f(t[i])(e);if(n._popContext(),r===d){n._pushContext();var o=a.reject(d.e);return n._popContext(),o}var s=c(r,n);if(s instanceof a)return s}return null}(i,this._yieldHandlers,this._promise))){var r=(i=i._target())._bitField;0==(50397184&r)?(this._yieldedPromise=i)._proxy(this,null):0!=(33554432&r)?a._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&r)?a._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},a.coroutine=function(i,e){if("function"!=typeof i)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(e).yieldHandler,o=p,s=(new Error).stack;return function(){var e=i.apply(this,arguments),t=new o(undefined,undefined,r,s),n=t.promise();return t._generator=e,t._promiseFulfilled(undefined),n}},a.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+t.classString(e));h.push(e)},a.spawn=function(e){if(l.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var t=new p(e,this),n=t.promise();return t._run(a.spawn),n}}},{"./errors":12,"./util":36}],17:[function(a,e,t){"use strict";e.exports=function(e,r,t,n,i,o){var s=a("./util");s.canEvaluate,s.tryCatch,s.errorObj,e.join=function(){var e,t=arguments.length-1;0<t&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var i=new r(n).promise();return e!==undefined?i.spread(e):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(h,e,o,p,s,m){var a=h._getDomain,c=t("./util"),g=c.tryCatch,y=c.errorObj,l=h._async;function u(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var r=a();this._callback=null===r?t:c.domainBind(r,t),this._preservedValues=i===s?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,undefined)}function r(e,t,n,i){if("function"!=typeof t)return o("expecting a function but got "+c.classString(t));var r=0;if(n!==undefined){if("object"!=typeof n||null===n)return h.reject(new TypeError("options argument must be an object but it is "+c.classString(n)));if("number"!=typeof n.concurrency)return h.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(n.concurrency)));r=n.concurrency}return new u(e,t,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,i).promise()}c.inherits(u,e),u.prototype._asyncInit=function(){this._init$(undefined,-2)},u.prototype._init=function(){},u.prototype._promiseFulfilled=function(e,t){var n=this._values,i=this.length(),r=this._preservedValues,o=this._limit;if(t<0){if(n[t=-1*t-1]=e,1<=o&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=o&&this._inFlight>=o)return n[t]=e,this._queue.push(t),!1;null!==r&&(r[t]=e);var s=this._promise,a=this._callback,c=s._boundValue();s._pushContext();var l=g(a).call(c,e,t,i),u=s._popContext();if(m.checkForgottenReturns(l,u,null!==r?"Promise.filter":"Promise.map",s),l===y)return this._reject(l.e),!0;var d=p(l,this._promise);if(d instanceof h){var f=(d=d._target())._bitField;if(0==(50397184&f))return 1<=o&&this._inFlight++,(n[t]=d)._proxy(this,-1*(t+1)),!1;if(0==(33554432&f))return 0!=(16777216&f)?this._reject(d._reason()):this._cancel(),!0;l=d._value()}n[t]=l}return i<=++this._totalResolved&&(null!==r?this._filter(n,r):this._resolve(n),!0)},u.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;0<e.length&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},u.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},u.prototype.preservedValues=function(){return this._preservedValues},h.prototype.map=function(e,t){return r(this,e,t,null)},h.map=function(e,t,n,i){return r(e,t,n,i)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(s,a,e,c,l){var u=t("./util"),d=u.tryCatch;s.method=function(i){if("function"!=typeof i)throw new s.TypeError("expecting a function but got "+u.classString(i));return function(){var e=new s(a);e._captureStackTrace(),e._pushContext();var t=d(i).apply(this,arguments),n=e._popContext();return l.checkForgottenReturns(t,n,"Promise.method",e),e._resolveFromSyncValue(t),e}},s.attempt=s["try"]=function(e){if("function"!=typeof e)return c("expecting a function but got "+u.classString(e));var t,n=new s(a);if(n._captureStackTrace(),n._pushContext(),1<arguments.length){l.deprecated("calling Promise.try with more than 1 argument");var i=arguments[1],r=arguments[2];t=u.isArray(i)?d(e).apply(r,i):d(e).call(r,i)}else t=d(e)();var o=n._popContext();return l.checkForgottenReturns(t,o,"Promise.try",n),n._resolveFromSyncValue(t),n},s.prototype._resolveFromSyncValue=function(e){e===u.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var s=e("./util"),a=s.maybeWrapAsError,c=e("./errors").OperationalError,l=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(r,o){return function(e,t){if(null!==r){if(e){var n=function(e){var t,n;if((n=e)instanceof Error&&l.getPrototypeOf(n)===Error.prototype){(t=new c(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var i=l.keys(e),r=0;r<i.length;++r){var o=i[r];u.test(o)||(t[o]=e[o])}return t}return s.markAsOriginatingFromRejection(e),e}(a(e));r._attachExtraTrace(n),r._reject(n)}else if(o){var i=[].slice.call(arguments,1);r._fulfill(i)}else r._fulfill(t);r=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var i=t("./util"),r=e._async,o=i.tryCatch,s=i.errorObj;function a(e,t){if(!i.isArray(e))return c.call(this,e,t);var n=o(t).apply(this._boundValue(),[null].concat(e));n===s&&r.throwLater(n.e)}function c(e,t){var n=this._boundValue(),i=e===undefined?o(t).call(n,null):o(t).call(n,null,e);i===s&&r.throwLater(i.e)}function l(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var i=o(t).call(this._boundValue(),e);i===s&&r.throwLater(i.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=c;t!==undefined&&Object(t).spread&&(n=a),this._then(n,l,undefined,this,e)}return this}}},{"./util":36}],22:[function(F,I,e){"use strict";I.exports=function(){var c=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},a=function(){return new S.PromiseInspection(this._target())},s=function(e){return S.reject(new d(e))};function l(){}var h,u={},p=F("./util");h=p.isNode?function(){var e=process.domain;return e===undefined&&(e=null),e}:function(){return null},p.notEnumerableProp(S,"_getDomain",h);var e=F("./es5"),t=F("./async"),m=new t;e.defineProperty(S,"_async",{value:m});var n=F("./errors"),d=S.TypeError=n.TypeError;S.RangeError=n.RangeError;var g=S.CancellationError=n.CancellationError;S.TimeoutError=n.TimeoutError,S.OperationalError=n.OperationalError,S.RejectionError=n.OperationalError,S.AggregateError=n.AggregateError;var y=function(){},f={},v={},_=F("./thenables")(S,y),w=F("./promise_array")(S,y,_,s,l),i=F("./context")(S),r=i.create,b=F("./debuggability")(S,i),x=(b.CapturedTrace,F("./finally")(S,_,v)),C=F("./catch_filter")(v),o=F("./nodeback"),k=p.errorObj,T=p.tryCatch;function S(e){e!==y&&function(e,t){if(null==e||e.constructor!==S)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new d("expecting a function but got "+p.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=undefined,this._rejectionHandler0=undefined,this._promise0=undefined,this._receiver0=undefined,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function E(e){this.promise._resolveCallback(e)}function N(e){this.promise._rejectCallback(e,!1)}function j(e){var t=new S(y);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return S.prototype.toString=function(){return"[object Promise]"},S.prototype.caught=S.prototype["catch"]=function(e){var t=arguments.length;if(1<t){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!p.isObject(o))return s("Catch statement predicate: expecting an object but got "+p.classString(o));i[r++]=o}return i.length=r,e=arguments[n],this.then(undefined,C(i,e,this))}return this.then(undefined,e)},S.prototype.reflect=function(){return this._then(a,a,undefined,this,undefined)},S.prototype.then=function(e,t){if(b.warnings()&&0<arguments.length&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+p.classString(e);1<arguments.length&&(n+=", "+p.classString(t)),this._warn(n)}return this._then(e,t,undefined,undefined,undefined)},S.prototype.done=function(e,t){this._then(e,t,undefined,undefined,undefined)._setIsFinal()},S.prototype.spread=function(e){return"function"!=typeof e?s("expecting a function but got "+p.classString(e)):this.all()._then(e,undefined,undefined,f,undefined)},S.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:undefined,rejectionReason:undefined};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},S.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},S.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},S.getNewLibraryCopy=I.exports,S.is=function(e){return e instanceof S},S.fromNode=S.fromCallback=function(e){var t=new S(y);t._captureStackTrace();var n=1<arguments.length&&!!Object(arguments[1]).multiArgs,i=T(e)(o(t,n));return i===k&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},S.all=function(e){return new w(e).promise()},S.resolve=S.fulfilled=S.cast=function(e){var t=_(e);return t instanceof S||((t=new S(y))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},S.reject=S.rejected=function(e){var t=new S(y);return t._captureStackTrace(),t._rejectCallback(e,!0),t},S.setScheduler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+p.classString(e));return m.setScheduler(e)},S.prototype._then=function(e,t,n,i,r){var o=r!==undefined,s=o?r:new S(y),a=this._target(),c=a._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),i===undefined&&0!=(2097152&this._bitField)&&(i=0!=(50397184&c)?this._boundValue():a===this?undefined:this._boundTo),this._fireEvent("promiseChained",this,s));var l=h();if(0!=(50397184&c)){var u,d,f=a._settlePromiseCtx;0!=(33554432&c)?(d=a._rejectionHandler0,u=e):0!=(16777216&c)?(d=a._fulfillmentHandler0,u=t,a._unsetRejectionIsUnhandled()):(f=a._settlePromiseLateCancellationObserver,d=new g("late cancellation observer"),a._attachExtraTrace(d),u=t),m.invoke(f,a,{handler:null===l?u:"function"==typeof u&&p.domainBind(l,u),promise:s,receiver:i,value:d})}else a._addCallbacks(e,t,s,i,l);return s},S.prototype._length=function(){return 65535&this._bitField},S.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},S.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},S.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},S.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},S.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},S.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},S.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},S.prototype._isFinal=function(){return 0<(4194304&this._bitField)},S.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},S.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},S.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},S.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},S.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===u?undefined:t===undefined&&this._isBound()?this._boundValue():t},S.prototype._promiseAt=function(e){return this[4*e-4+2]},S.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},S.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},S.prototype._boundValue=function(){},S.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);r===undefined&&(r=u),this._addCallbacks(t,n,i,r,null)},S.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);o===undefined&&(o=u),this._addCallbacks(n,i,r,o,null)},S.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(65531<=o&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:p.domainBind(r,t));else{var s=4*o-4;this[s+2]=n,this[s+3]=i,"function"==typeof e&&(this[s+0]=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this[s+1]=null===r?t:p.domainBind(r,t))}return this._setLength(o+1),o},S.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)},S.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=_(e,this);if(!(n instanceof S))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var r=i._bitField;if(0==(50397184&r)){var o=this._length();0<o&&i._migrateCallback0(this);for(var s=1;s<o;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&r))this._fulfill(i._value());else if(0!=(16777216&r))this._reject(i._reason());else{var a=new g("late cancellation observer");i._attachExtraTrace(a),this._reject(a)}}else this._reject(c())}},S.prototype._rejectCallback=function(e,t,n){var i=p.ensureErrorObject(e),r=i===e;if(!r&&!n&&b.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},S.prototype._resolveFromExecutor=function(e){if(e!==y){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),i!==undefined&&t._rejectCallback(i,!0)}},S.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0==(65536&r)){var o;i._pushContext(),t===f?n&&"number"==typeof n.length?o=T(e).apply(this._boundValue(),n):(o=k).e=new d("cannot .spread() a non-array: "+p.classString(n)):o=T(e).call(t,n);var s=i._popContext();0==(65536&(r=i._bitField))&&(o===v?i._reject(n):o===k?i._rejectCallback(o.e,!1):(b.checkForgottenReturns(o,s,"",i,this),i._resolveCallback(o)))}},S.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},S.prototype._followee=function(){return this._rejectionHandler0},S.prototype._setFollowee=function(e){this._rejectionHandler0=e},S.prototype._settlePromise=function(e,t,n,i){var r=e instanceof S,o=this._bitField,s=0!=(134217728&o);0!=(65536&o)?(r&&e._invokeInternalOnCancel(),n instanceof x&&n.isFinallyHandler()?(n.cancelPromise=e,T(t).call(n,i)===k&&e._reject(k.e)):t===a?e._fulfill(a.call(n)):n instanceof l?n._promiseCancelled(e):r||e instanceof w?e._cancel():n.cancel()):"function"==typeof t?r?(s&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof l?n._isResolved()||(0!=(33554432&o)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):r&&(s&&e._setAsyncGuaranteed(),0!=(33554432&o)?e._fulfill(i):e._reject(i))},S.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof S?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof S&&n._reject(r)},S.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},S.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=undefined,this._receiver0=undefined,this._settlePromise(i,e,r,t)},S.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined},S.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,0<(65535&t)&&(0!=(134217728&t)?this._settlePromises():m.settlePromises(this))}},S.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return m.fatalError(e,p.isNode);0<(65535&t)?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},S.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},S.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},S.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(0<t){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},S.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},S.defer=S.pending=function(){return b.deprecated("Promise.defer","new Promise"),{promise:new S(y),resolve:E,reject:N}},p.notEnumerableProp(S,"_makeSelfResolutionError",c),F("./method")(S,y,_,s,b),F("./bind")(S,y,_,b),F("./cancel")(S,w,s,b),F("./direct_resolve")(S),F("./synchronous_inspection")(S),F("./join")(S,w,_,y,m,h),(S.Promise=S).version="3.5.1",F("./map.js")(S,w,s,_,y,b),F("./call_get.js")(S),F("./using.js")(S,s,_,r,y,b),F("./timers.js")(S,y,b),F("./generators.js")(S,s,y,_,l,b),F("./nodeify.js")(S),F("./promisify.js")(S,y),F("./props.js")(S,w,_,s),F("./race.js")(S,y,_,s),F("./reduce.js")(S,w,s,_,y,b),F("./settle.js")(S,w,b),F("./some.js")(S,w,s),F("./filter.js")(S,y),F("./each.js")(S,y),F("./any.js")(S),p.toFastProperties(S),p.toFastProperties(S.prototype),j({a:1}),j({b:2}),j({c:3}),j(1),j(function(){}),j(undefined),j(!1),j(new S(y)),b.setBounds(t.firstLineError,p.lastLineError),S}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(r,e,t){"use strict";e.exports=function(a,n,c,s,t){var l=r("./util");function i(e){var t=this._promise=new a(n);e instanceof a&&t._propagateFrom(e,3),t._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(undefined,-2)}return l.isArray,l.inherits(i,t),i.prototype.length=function(){return this._length},i.prototype.promise=function(){return this._promise},i.prototype._init=function e(t,n){var i=c(this._values,this._promise);if(i instanceof a){var r=(i=i._target())._bitField;if(this._values=i,0==(50397184&r))return this._promise._setAsyncGuaranteed(),i._then(e,this._reject,undefined,this,n);if(0==(33554432&r))return 0!=(16777216&r)?this._reject(i._reason()):this._cancel();i=i._value()}if(null!==(i=l.asArray(i)))0!==i.length?this._iterate(i):-5===n?this._resolveEmptyArray():this._resolve(function(e){switch(n){case-2:return[];case-3:return{};case-6:return new Map}}());else{var o=s("expecting an array or an iterable object but got "+l.classString(i)).reason();this._promise._rejectCallback(o,!1)}},i.prototype._iterate=function(e){var t=this.getActualLength(e.length);this._length=t,this._values=this.shouldCopyValues()?new Array(t):this._values;for(var n=this._promise,i=!1,r=null,o=0;o<t;++o){var s=c(e[o],n);r=s instanceof a?(s=s._target())._bitField:null,i?null!==r&&s.suppressUnhandledRejections():null!==r?0==(50397184&r)?(s._proxy(this,o),this._values[o]=s):i=0!=(33554432&r)?this._promiseFulfilled(s._value(),o):0!=(16777216&r)?this._promiseRejected(s._reason(),o):this._promiseCancelled(o):i=this._promiseFulfilled(s,o)}i||n._setAsyncGuaranteed()},i.prototype._isResolved=function(){return null===this._values},i.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},i.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},i.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},i.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseCancelled=function(){return this._cancel(),!0},i.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},i.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof a)e.cancel();else for(var t=0;t<e.length;++t)e[t]instanceof a&&e[t].cancel()}},i.prototype.shouldCopyValues=function(){return!0},i.prototype.getActualLength=function(e){return e},i}},{"./util":36}],24:[function(n,e,t){"use strict";e.exports=function(u,d){var h={},p=n("./util"),f=n("./nodeback"),m=p.withAppended,g=p.maybeWrapAsError,e=p.canEvaluate,y=n("./errors").TypeError,v={__isPromisified__:!0},t=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),_=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function s(e){return!t.test(e)}function w(e){try{return!0===e.__isPromisified__}catch(t){return!1}}var b=function(e){return e.replace(/([$])/,"\\$")},x=e?void 0:function(o,s,e,t,n,a){var c=function(){return this}(),l=o;function i(){var e=s;s===h&&(e=this);var t=new u(d);t._captureStackTrace();var n="string"==typeof l&&this!==c?this[l]:o,i=f(t,a);try{n.apply(e,m(arguments,i))}catch(r){t._rejectCallback(g(r),!0,!0)}return t._isFateSealed()||t._setAsyncGuaranteed(),t}return"string"==typeof l&&(o=t),p.notEnumerableProp(i,"__isPromisified__",!0),i};function l(e,t,n,i,r){for(var o=new RegExp(b(t)+"$"),s=function(e,t,n,i){for(var r,o,s,a,c=p.inheritedDataKeys(e),l=[],u=0;u<c.length;++u){var d=c[u],f=e[d],h=i===_||_(d,f,e);"function"!=typeof f||w(f)||(r=e,o=d,s=t,(a=p.getDataPropertyOrDefault(r,o+s,v))&&w(a))||!i(d,f,e,h)||l.push(d,f)}return function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(l,t,n),l}(e,t,o,n),a=0,c=s.length;a<c;a+=2){var l=s[a],u=s[a+1],d=l+t;if(i===x)e[d]=x(l,h,l,u,t,r);else{var f=i(u,function(){return x(l,h,l,u,t,r)});p.notEnumerableProp(f,"__isPromisified__",!0),e[d]=f}}return p.toFastProperties(e),e}u.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));if(w(e))return e;var n,i=(t=Object(t)).context===undefined?h:t.context,r=!!t.multiArgs,o=x(n=e,i,undefined,n,null,r);return p.copyDescriptors(e,o,s),o},u.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var r=t.filter;"function"!=typeof r&&(r=_);var o=t.promisifier;if("function"!=typeof o&&(o=x),!p.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=p.inheritedDataKeys(e),a=0;a<s.length;++a){var c=e[s[a]];"constructor"!==s[a]&&p.isClass(c)&&(l(c.prototype,i,r,o,n),l(c,i,r,o,n))}return l(e,i,r,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(d,e,t){"use strict";e.exports=function(i,e,r,o){var a,t=d("./util"),s=t.isObject,c=d("./es5");"function"==typeof Map&&(a=Map);var l=function(){var n=0,i=0;function r(e,t){this[n]=e,this[n+i]=t,n++}return function(e){i=e.size,n=0;var t=new Array(2*e.size);return e.forEach(r,t),t}}();function u(e){var t,n=!1;if(a!==undefined&&e instanceof a)t=l(e),n=!0;else{var i=c.keys(e),r=i.length;t=new Array(2*r);for(var o=0;o<r;++o){var s=i[o];t[o]=e[s],t[o+r]=s}}this.constructor$(t),this._isMap=n,this._init$(undefined,n?-6:-3)}function n(e){var t,n=r(e);return s(n)?(t=n instanceof i?n._then(i.props,undefined,undefined,undefined,undefined):new u(n).promise(),n instanceof i&&t._propagateFrom(n,2),t):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}t.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new a,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],o=e[i];t.set(r,o)}return t}(this._values);else{n={};for(var i=this.length(),r=0,o=this.length();r<o;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(e){return e>>1},i.prototype.props=function(){return n(this)},i.props=function(e){return n(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=undefined,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(l,u,d,f){var h=e("./util"),p=function(t){return t.then(function(e){return n(e,t)})};function n(e,t){var n=d(e);if(n instanceof l)return p(n);if(null===(e=h.asArray(e)))return f("expecting an array or an iterable object but got "+h.classString(e));var i=new l(u);t!==undefined&&i._propagateFrom(t,3);for(var r=i._fulfill,o=i._reject,s=0,a=e.length;s<a;++s){var c=e[s];(c!==undefined||s in e)&&l.cast(c)._then(r,o,undefined,i,null)}return i}l.race=function(e){return n(e,undefined)},l.prototype.race=function(){return n(this,undefined)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(s,e,r,n,o,a){var c=s._getDomain,l=t("./util"),u=l.tryCatch;function d(e,t,n,i){this.constructor$(e);var r=c();this._fn=null===r?t:l.domainBind(r,t),n!==undefined&&(n=s.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:undefined,this._promise._captureStackTrace(),this._init$(undefined,-5)}function f(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function h(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+l.classString(t)):new d(e,t,n,i).promise()}function p(e){this.accum=e,this.array._gotAccum(e);var t=n(this.value,this.array._promise);return t instanceof s?(this.array._currentCancellable=t)._then(i,undefined,undefined,this,undefined):i.call(this,t)}function i(e){var t,n=this.array,i=n._promise,r=u(n._fn);i._pushContext(),(t=n._eachValues!==undefined?r.call(i._boundValue(),e,this.index,this.length):r.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof s&&(n._currentCancellable=t);var o=i._popContext();return a.checkForgottenReturns(t,o,n._eachValues!==undefined?"Promise.each":"Promise.reduce",i),t}l.inherits(d,e),d.prototype._gotAccum=function(e){this._eachValues!==undefined&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},d.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},d.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel())},d.prototype._iterate=function(e){var t,n,i=(this._values=e).length;if(this._initialValue!==undefined?(t=this._initialValue,n=0):(t=s.resolve(e[0]),n=1),!(this._currentCancellable=t).isRejected())for(;n<i;++n){var r={accum:null,value:e[n],index:n,length:i,array:this};t=t._then(p,undefined,undefined,r,undefined)}this._eachValues!==undefined&&(t=t._then(this._eachComplete,undefined,undefined,this,undefined)),t._then(f,f,undefined,t,this)},s.prototype.reduce=function(e,t){return h(this,e,t,null)},s.reduce=function(e,t,n,i){return h(e,t,n,i)}}},{"./util":36}],29:[function(e,t,n){"use strict";var i,r,o,s,a,c=e("./util"),l=c.getNativePromise();if(c.isNode&&"undefined"==typeof MutationObserver){var u=global.setImmediate,d=process.nextTick;i=c.isRecentNode?function(e){u.call(global,e)}:function(e){d.call(process,e)}}else if("function"==typeof l&&"function"==typeof l.resolve){var f=l.resolve();i=function(e){f.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(r=document.createElement("div"),s=!(o={attributes:!0}),a=document.createElement("div"),new MutationObserver(function(){r.classList.toggle("foo"),s=!1}).observe(a,o),function(e){var t=new MutationObserver(function(){t.disconnect(),e()});t.observe(r,o),s||(s=!0,a.classList.toggle("foo"))});t.exports=i},{"./util":36}],30:[function(o,e,t){"use strict";e.exports=function(e,t,n){var i=e.PromiseInspection;function r(e){this.constructor$(e)}o("./util").inherits(r,t),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(u,e,t){"use strict";e.exports=function(e,t,r){var n=u("./util"),i=u("./errors").RangeError,o=u("./errors").AggregateError,s=n.isArray,a={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(e),i=n.promise();return n.setHowMany(t),n.init(),i}n.inherits(c,t),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(undefined,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(a),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new o,t=this.length();t<this._values.length;++t)this._values[t]!==a&&e.push(this._values[t]);return 0<e.length?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new i(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return l(e,t)},e.prototype.some=function(e){return l(this,e)},e._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){e!==undefined?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():undefined):(this._bitField=0,this._settledValueField=undefined)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(a,c){var l=e("./util"),u=l.errorObj,r=l.isObject,o={}.hasOwnProperty;return function(e,t){if(r(e)){if(e instanceof a)return e;var n=function(e){try{return e.then}catch(t){return u.e=t,u}}(e);if(n===u){t&&t._pushContext();var i=a.reject(n.e);return t&&t._popContext(),i}if("function"==typeof n)return function(e){try{return o.call(e,"_promise0")}catch(t){return!1}}(e)?(i=new a(c),e._then(i._fulfill,i._reject,undefined,i,null),i):function(e,t,n){var i=new a(c),r=i;n&&n._pushContext(),i._captureStackTrace(),n&&n._popContext();var o=!0,s=l.tryCatch(t).call(e,function(e){i&&(i._resolveCallback(e),i=null)},function(e){i&&(i._rejectCallback(e,o,!0),i=null)});return o=!1,i&&s===u&&(i._rejectCallback(s.e,!0,!0),i=null),r}(e,n,t)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(r,o,a){var c=e("./util"),l=r.TimeoutError;function u(e){this.handle=e}u.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return t(+this).thenReturn(e)},t=r.delay=function(e,t){var n,i;return t!==undefined?(n=r.resolve(t)._then(s,null,null,e,undefined),a.cancellation()&&t instanceof r&&n._setOnCancel(t)):(n=new r(o),i=setTimeout(function(){n._fulfill()},+e),a.cancellation()&&n._setOnCancel(new u(i)),n._captureStackTrace()),n._setAsyncGuaranteed(),n};function n(e){return clearTimeout(this.handle),e}function i(e){throw clearTimeout(this.handle),e}r.prototype.delay=function(e){return t(e,this)},r.prototype.timeout=function(e,r){var o,s;e=+e;var t=new u(setTimeout(function(){var e,t,n,i;o.isPending()&&(e=o,n=s,i="string"!=typeof(t=r)?t instanceof Error?t:new l("operation timed out"):new l(t),c.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel())},e));return a.cancellation()?(s=this.then(),(o=s._then(n,i,undefined,t,undefined))._setOnCancel(t)):o=this._then(n,i,undefined,t,undefined),o}}},{"./util":36}],35:[function(r,e,t){"use strict";e.exports=function(f,h,p,t,m,g){var y=r("./util"),n=r("./errors").TypeError,e=r("./util").inherits,v=y.errorObj,_=y.tryCatch,w={};function b(e){setTimeout(function(){throw e},0)}function x(e,t,n){this._data=e,this._promise=t,this._context=n}function i(e,t,n){this.constructor$(e,t,n)}function C(e){return x.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function k(e){this.length=e,this.promise=null,this[e-1]=null}x.prototype.data=function(){return this._data},x.prototype.promise=function(){return this._promise},x.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():w},x.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;n!==undefined&&n._pushContext();var i=t!==w?this.doDispose(t,e):null;return n!==undefined&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},x.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},e(i,x),i.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},k.prototype._resultCancelled=function(){for(var e=this.length,t=0;t<e;++t){var n=this[t];n instanceof f&&n.cancel()}},f.using=function(){var e=arguments.length;if(e<2)return h("you must pass at least 2 arguments to Promise.using");var t,o=arguments[e-1];if("function"!=typeof o)return h("expecting a function but got "+y.classString(o));var s=!0;2===e&&Array.isArray(arguments[0])?(e=(t=arguments[0]).length,s=!1):(t=arguments,e--);for(var n=new k(e),i=0;i<e;++i){var r=t[i];if(x.isDisposer(r)){var a=r;(r=r.promise())._setDisposable(a)}else{var c=p(r);c instanceof f&&(r=c._then(C,null,null,{resources:n,index:i},undefined))}n[i]=r}var l=new Array(n.length);for(i=0;i<l.length;++i)l[i]=f.resolve(n[i]).reflect();var u=f.all(l).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return v.e=n.error(),v;if(!n.isFulfilled())return void u.cancel();e[t]=n.value()}d._pushContext(),o=_(o);var i=s?o.apply(undefined,e):o(e),r=d._popContext();return g.checkForgottenReturns(i,r,"Promise.using",d),i}),d=u.lastly(function(){var r,o,s,a,c,t=new f.PromiseInspection(u);return o=t,s=0,a=(r=n).length,c=new f(m),function e(){if(a<=s)return c._fulfill();var t,n,i=(t=r[s++],(n=p(t))!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&n._setDisposable(t._getDisposer()),n);if(i instanceof f&&i._isDisposable()){try{i=p(i._getDisposer().tryDispose(o),r.promise)}catch(w){return b(w)}if(i instanceof f)return i._then(e,b,null,null,null)}e()}(),c});return(n.promise=d)._setOnCancel(n),d},f.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},f.prototype._isDisposable=function(){return 0<(131072&this._bitField)},f.prototype._getDisposer=function(){return this._disposer},f.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=undefined},f.prototype.disposer=function(e){if("function"==typeof e)return new i(e,this,t());throw new n}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";var o,l=e("./es5"),i="undefined"==typeof navigator,r={e:{}},s="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this!==undefined?this:null;function u(){try{var e=o;return o=null,e.apply(this,arguments)}catch(t){return r.e=t,r}}function a(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function c(e,t,n){if(a(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return l.defineProperty(e,t,i),e}var d=function(){var r=[Array.prototype,Object.prototype,Function.prototype],a=function(e){for(var t=0;t<r.length;++t)if(r[t]===e)return!0;return!1};if(l.isES5){var c=Object.getOwnPropertyNames;return function(e){for(var t=[],n=Object.create(null);null!=e&&!a(e);){var i;try{i=c(e)}catch(u){return t}for(var r=0;r<i.length;++r){var o=i[r];if(!n[o]){n[o]=!0;var s=Object.getOwnPropertyDescriptor(e,o);null!=s&&null==s.get&&null==s.set&&t.push(o)}}e=l.getPrototypeOf(e)}return t}}var o={}.hasOwnProperty;return function(e){if(a(e))return[];var t=[];e:for(var n in e)if(o.call(e,n))t.push(n);else{for(var i=0;i<r.length;++i)if(o.call(r[i],n))continue e;t.push(n)}return t}}(),f=/this\s*\.\s*\S+\s*=/;var h=/^[a-z$_][a-z$_0-9]*$/i;function p(e){try{return e+""}catch(t){return"[no string representation]"}}function m(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function g(e){return m(e)&&l.propertyIsWritable(e,"stack")}var y="stack"in new Error?function(e){return g(e)?e:new Error(p(e))}:function(e){if(g(e))return e;try{throw new Error(p(e))}catch(t){return t}};function v(e){return{}.toString.call(e)}var _=function(e){return l.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};_=function(e){return l.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?w(e):null}}var b="undefined"!=typeof process&&"[object process]"===v(process).toLowerCase(),x="undefined"!=typeof process&&"undefined"!=typeof process.env;var C,k={isClass:function(e){try{if("function"==typeof e){var t=l.names(e.prototype),n=l.isES5&&1<t.length,i=0<t.length&&!(1===t.length&&"constructor"===t[0]),r=f.test(e+"")&&0<l.names(e).length;if(n||i||r)return!0}return!1}catch(o){return!1}},isIdentifier:function(e){return h.test(e)},inheritedDataKeys:d,getDataPropertyOrDefault:function(e,t,n){if(!l.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:undefined;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(e){throw e},isArray:l.isArray,asArray:_,notEnumerableProp:c,isPrimitive:a,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:m,canEvaluate:i,errorObj:r,tryCatch:function(e){return o=e,u},inherits:function(t,n){var i={}.hasOwnProperty;function e(){for(var e in this.constructor=t,(this.constructor$=n).prototype)i.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r},maybeWrapAsError:function(e){return a(e)?new Error(p(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i},toString:p,canAttachTrace:g,ensureErrorObject:y,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{c(e,"isOperational",!0)}catch(t){}},classString:v,copyDescriptors:function(e,t,n){for(var i=l.names(e),r=0;r<i.length;++r){var o=i[r];if(n(o))try{l.defineProperty(t,o,l.getDescriptor(e,o))}catch(s){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:b,hasEnvVariables:x,env:function(e){return x?process.env[e]:undefined},global:s,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}},domainBind:function(e,t){return e.bind(t)}};k.isRecentNode=k.isNode&&(0===(C=process.versions.node.split(".").map(Number))[0]&&10<C[1]||0<C[0]),k.isNode&&k.toFastProperties(process);try{throw new Error}catch(T){k.lastLineError=T}t.exports=k},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(e){function i(e,t){var n;t=t||{},this._id=i._generateUUID(),this._promise=t.promise||Promise,this._frameId=t.frameId||"CrossStorageClient-"+this._id,this._origin=i._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=t.timeout||5e3,this._listener=null,this._installListener(),t.frameId&&(n=document.getElementById(t.frameId)),n&&this._poll(),n=n||this._createFrame(e),this._hub=n.contentWindow}i.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},i._getOrigin=function(e){var t;return(t=document.createElement("a")).href=e,t.host||(t=window.location),((t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol)+"//"+t.host).replace(/:80$|:443$/,"")},i._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},i.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(t,n){var i=setTimeout(function(){n(new Error("CrossStorageClient could not connect"))},e._timeout);e._requests.connect.push(function(e){if(clearTimeout(i),e)return n(e);t()})}))},i.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},i.prototype.get=function(e){var t=Array.prototype.slice.call(arguments);return this._request("get",{keys:t})},i.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},i.prototype.clear=function(){return this._request("clear")},i.prototype.getKeys=function(){return this._request("getKeys")},i.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},i.prototype._installListener=function(){var o=this;this._listener=function(e){var t,n,i;if(!o._closed&&e.data&&"string"==typeof e.data&&("null"===e.origin?"file://":e.origin)===o._origin)if("cross-storage:unavailable"!==e.data){if(-1!==e.data.indexOf("cross-storage:")&&!o._connected){if(o._connected=!0,!o._requests.connect)return;for(t=0;t<o._requests.connect.length;t++)o._requests.connect[t](n);delete o._requests.connect}if("cross-storage:ready"!==e.data){try{i=JSON.parse(e.data)}catch(r){return}i.id&&o._requests[i.id]&&o._requests[i.id](i.error,i.result)}}else{if(o._closed||o.close(),!o._requests.connect)return;for(n=new Error("Closing client. Could not access localStorage in hub."),t=0;t<o._requests.connect.length;t++)o._requests.connect[t](n)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},i.prototype._poll=function(){var e,t,n;n="file://"===(e=this)._origin?"*":e._origin,t=setInterval(function(){if(e._connected)return clearInterval(t);e._hub&&e._hub.postMessage("cross-storage:poll",n)},1e3)},i.prototype._createFrame=function(e){var t,n;for(n in(t=window.document.createElement("iframe")).id=this._frameId,i.frameStyle)i.frameStyle.hasOwnProperty(n)&&(t.style[n]=i.frameStyle[n]);return window.document.body.appendChild(t),t.src=e,t},i.prototype._request=function(e,t){var o,s;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((s=this)._count++,o={id:this._id+":"+s._count,method:"cross-storage:"+e,params:t},new this._promise(function(n,i){var r,e,t;r=setTimeout(function(){s._requests[o.id]&&(delete s._requests[o.id],i(new Error("Timeout: could not perform "+o.method)))},s._timeout),s._requests[o.id]=function(e,t){if(clearTimeout(r),delete s._requests[o.id],e)return i(new Error(e));n(t)},Array.prototype.toJSON&&(e=Array.prototype.toJSON,Array.prototype.toJSON=null),t="file://"===s._origin?"*":s._origin,s._hub.postMessage(JSON.stringify(o),t),e&&(Array.prototype.toJSON=e)}))},"undefined"!=typeof module&&module.exports?module.exports=i:"undefined"!=typeof exports?exports.CrossStorageClient=i:"function"==typeof define&&define.amd?define([],function(){return i}):e.CrossStorageClient=i}(this),window.isinitOldSearchHistory=0,window.searchHistorySug=function(e){this.version="1.0.0",this.storage=new CrossStorageClient("https://www.kongfz.com/search-suggest-history-iframe.html"),this.data={isLogin:!0,isMac:/mac os/.test(navigator.userAgent.toLowerCase()),site:{},currentSugIndex:0,keyUpTimeIndex:0,maxSearchHistory:100,searchHistoryList:[]},this.dom={searchPut:e.searchPut,searchForm:e.searchForm,searchLabel:e.searchLabel,searchInputBox:e.searchInputBox,searchHistoryBox:e.searchHistoryBox},this.tpl={searchHistoryTpl:$("#search-history-tpl").html()}},window.searchHistorySug.prototype={init:function(){var e=this;e.data.site.search="https:"==location.protocol?KFZ.site.searchs:KFZ.site.search,"Safari"==window.KFZ.tools.browserInfo()&&(e.data.maxSearchHistory=20),window.isinitOldSearchHistory||e.initOldSearchHistory(function(){e.getSearchHistory()}),window.isinitOldSearchHistory++,e.initEvent()},initEvent:function(){var e=this;e.setEvent({dom:e.dom.searchPut,event:"searchPutFocus"}),e.setEvent({dom:e.dom.searchPut,event:"searchPutClick"}),e.setEvent({dom:e.dom.searchPut,event:"searchPutBlur"}),e.setEvent({dom:e.dom.searchPut,event:"searchPutKeyDown"}),e.setEvent({dom:e.dom.searchPut,event:"searchPutKeyUp"}),e.setEvent({dom:$("body"),event:"hideSearchHistoryBox"}),e.setEvent({dom:e.dom.searchInputBox,event:"stopPropagationHide"}),e.setEvent({dom:e.dom.searchHistoryBox,event:"searchHistoryClick"}),e.setEvent({dom:e.dom.searchHistoryBox,event:"searchSubClick"}),e.setEvent({dom:e.dom.searchHistoryBox,event:"editHistory"}),e.setEvent({dom:e.dom.searchHistoryBox,event:"editFinish"}),e.setEvent({dom:e.dom.searchHistoryBox,event:"clearSearchHistory"})},setEvent:function(e){var t=this;switch(e.event){case"searchPutFocus":e.dom.on("focus",function(){});break;case"searchPutClick":e.dom.on("click",function(e){t.searchPutFocus(this)});break;case"searchPutBlur":e.dom.on("blur",function(e){t.searchPutBlur(this)});break;case"searchPutKeyDown":e.dom.on("keydown",function(e){t.searchPutKeyDown(e)});break;case"searchPutKeyUp":"IE8"==window.KFZ.tools.browserInfo()||"IE9"==window.KFZ.tools.browserInfo()?e.dom.on("keyup",function(e){t.searchPutKeyUp(this,e)}):e.dom.on("input",function(e){t.searchPutInput(this,e)});break;case"hideSearchHistoryBox":e.dom.on("click",function(){t.dom.searchHistoryBox.hide()});break;case"stopPropagationHide":e.dom.on("click",function(e){e.stopPropagation()});break;case"searchHistoryClick":e.dom.delegate(".search-history-item","click",function(){t.searchHistoryClick(this)});break;case"searchSubClick":e.dom.delegate(".search-sug-item","click",function(){t.searchSubClick(this)});break;case"editHistory":e.dom.delegate(".icon_delete_btn","click",function(){$(".icon_delete_box").addClass("editor"),$(".search-history-list").addClass("editor")});break;case"editFinish":e.dom.delegate(".finish_btn","click",function(){$(".icon_delete_box").removeClass("editor"),$(".search-history-list").removeClass("editor")});break;case"clearSearchHistory":e.dom.delegate(".delete_all_btn","click",function(){t.clearSearchHistory()})}},initOldSearchHistory:function(r){var o=this;o.getLocalSearchHistory(function(e){e?r&&r():o.storage.onConnect().then(function(){o.storage.get("historyOfSearch").then(function(e){var t=e?JSON.parse(e):[],n=[];if(0<t.length&&"string"==typeof t[0]){for(var i=0;i<t.length;i++)n.push({keyword:t[i],search_time:0,type:0});o.setLocalSearchHistory(n)}r&&r()})})})},getSearchHistory:function(i){var r=this;r.data.isLogin?$.ajax({type:"GET",url:r.data.site.search+"Pc/History/history",dataType:"jsonp",success:function(e){e.status?(i&&i(e),r.historyOfSearchSync()):"unlogin"==e.message&&(r.data.isLogin=!1)},error:function(e){}}):r.getLocalSearchHistory(function(e){var t=[];if(0!=e.length){r.data.searchHistoryList=e;for(var n=0;n<e.length;n++)t.push(e[n].keyword);i&&i({data:{historyList:t}})}})},getSearchSug:function(o){var s=this,e=s.dom.searchPut.val();$.ajax({type:"GET",url:s.data.site.search+"Pc/History/relateHistory",dataType:"jsonp",data:{query:e},success:function(i){if(i.status){var r=e.replace(/(^\s*)/g,"");s.data.isLogin?o&&o(i,r):s.getLocalSearchHistory(function(e){var t=[];if(e.length){s.data.searchHistoryList=e;for(var n=0;n<e.length;n++)e[n].keyword!=r&&e[n].keyword.slice(0,r.length)==r&&t.length<3&&(-1!=i.data.suggestList.indexOf(e[n].keyword)&&i.data.suggestList.splice(i.data.suggestList.indexOf(e[n].keyword),1),t.push(e[n].keyword));i.data.historyList=t}o&&o(i,r)})}},error:function(e){}})},searchPutKeyDown:function(e){var t=this,n=t.dom.searchPut.val(),i=e.keyCode||e.charCode;if(t.dom.searchLabel.hide(),38==i||40==i){e.preventDefault();var r,o=n,s=t.dom.searchHistoryBox.find(".search-sug-item"),a=s.length;if(""==o)return;if(0==a)return;return 38==i?t.data.currentSugIndex--:40==i&&t.data.currentSugIndex++,t.data.currentSugIndex>a&&(t.data.currentSugIndex=1),t.data.currentSugIndex<1&&(t.data.currentSugIndex=a),s.removeClass("sug_hover"),s.eq(t.data.currentSugIndex-1).addClass("sug_hover"),r=$.trim(s.eq(t.data.currentSugIndex-1).text()),void t.dom.searchPut.val(r)}t.data.keyUpTimeIndex&&""!=n&&(clearTimeout(t.data.keyUpTimeIndex),t.data.keyUpTimeIndex=0)},searchPutInput:function(n,e){var i=this;i.data.keyUpTimeIndex=setTimeout(function(){var e=$(n),t=$.trim(e.val());if(""==t)return i.renderSearchHistory(),!1;i.renderSearchSug({query:t})},200)},searchPutKeyUp:function(n,e){var i=this,t=e.keyCode||e.charCode;13!=t?38!=t&&40!=t&&(i.data.keyUpTimeIndex=setTimeout(function(){var e=$(n),t=$.trim(e.val());if(""==t)return i.renderSearchHistory(),!1;i.renderSearchSug({query:t})},200)):i.dom.searchHistoryBox.hide()},searchPutFocus:function(e){var t=$.trim($(e).val());this.dom.searchLabel.hide(),$(".search-history-box-flag").hide(),""==t?this.renderSearchHistory():this.renderSearchSug({query:t})},searchPutBlur:function(e){""==$(e).val()&&this.dom.searchLabel.show()},deleteSearchHistory:function(t){var n=this,e=$(t).find(".text").text();n.data.isLogin?$.ajax({type:"GET",url:n.data.site.search+"Pc/History/delHistory",dataType:"jsonp",data:{query:e},success:function(e){e.status?($(t).remove(),0==$(".search-history-item").length&&n.dom.searchHistoryBox.hide()):console.log("删除搜索历史失败")},error:function(e){console.log("删除搜索历史接口异常")}}):(n.data.searchHistoryList.splice($(t).index(),1),$(t).remove(),n.setLocalSearchHistory(n.data.searchHistoryList),0==$(".search-history-item").length&&n.dom.searchHistoryBox.hide())},clearSearchHistory:function(){var t=this;t.data.isLogin?$.ajax({type:"GET",url:t.data.site.search+"Pc/History/clearHistory",dataType:"jsonp",success:function(e){e.status&&t.dom.searchHistoryBox.hide()},error:function(e){}}):(t.dom.searchHistoryBox.hide(),t.setLocalSearchHistory([]))},searchHistoryClick:function(e){var t=$(e).index(),n=$.trim($(e).find(".text").text());$(".search-history-list").hasClass("editor")?this.deleteSearchHistory(e):(KFZ.searchInfo.search_type="history",KFZ.searchInfo.search_pos=t,this.dom.searchLabel.hide(),this.dom.searchPut.attr("orikey",this.dom.searchPut.val()),this.dom.searchPut.val(n),this.dom.searchForm.submit())},searchSubClick:function(e){var t=$(e).index(),n=$.trim($(e).text());KFZ.searchInfo.search_type="suggest",KFZ.searchInfo.search_pos=t,this.dom.searchLabel.hide(),this.dom.searchPut.attr("orikey",this.dom.searchPut.val()),this.dom.searchPut.val(n),this.dom.searchForm.submit()},renderSearchHistory:function(){var n=this;n.getSearchHistory(function(e){if(0!=e.data.historyList.length){var t=doT.template(n.tpl.searchHistoryTpl);n.dom.searchHistoryBox.html(t({data:e.data})).show()}})},renderSearchSug:function(){var r=this;r.data.currentSugIndex=0,r.getSearchSug(function(e,t){0==e.data.historyList.length&&0==e.data.suggestList.length?r.dom.searchHistoryBox.hide():r.dom.searchHistoryBox.show();var n=doT.template(r.tpl.searchHistoryTpl),i={data:e.data};0<e.data.suggestList.length&&-1!=e.data.suggestList[0].indexOf(t)&&(i.key=t),r.dom.searchHistoryBox.html(n(i))})},getLocalSearchHistory:function(n){var e=this;if("Safari"==window.KFZ.tools.browserInfo()){var t=window.KFZ.tools.cookies("searchHistoryList")?JSON.parse(window.KFZ.tools.cookies("searchHistoryList")):[];n&&n(t)}else e.storage.onConnect().then(function(){e.storage.get("searchHistoryList").then(function(e){var t=e?JSON.parse(e):[];n&&n(t)})})},addLocalSearchHistory:function(e){var t=this;t.data.isLogin||(-1!=t.getIndexOf(t.data.searchHistoryList,e)&&t.data.searchHistoryList.splice(t.getIndexOf(t.data.searchHistoryList,e),1),"Safari"==window.KFZ.tools.browserInfo()&&(e.keyword=e.keyword.slice(0,20)),t.data.searchHistoryList.unshift(e),t.data.searchHistoryList.length>t.data.maxSearchHistory&&t.data.searchHistoryList.splice(t.data.maxSearchHistory),"Safari"==window.KFZ.tools.browserInfo()?window.KFZ.tools.cookies("searchHistoryList",JSON.stringify(t.data.searchHistoryList),{domain:".kongfz.com",expires:30,path:"/"}):t.storage.onConnect().then(function(){t.storage.set("searchHistoryList",JSON.stringify(t.data.searchHistoryList))}),t.setHistoryOfSearchSynchronized(0))},setLocalSearchHistory:function(e){var t=this;t.data.searchHistoryList=e,t.data.searchHistoryList.length>t.data.maxSearchHistory&&t.data.searchHistoryList.splice(t.data.maxSearchHistory),"Safari"==window.KFZ.tools.browserInfo()?window.KFZ.tools.cookies("searchHistoryList",JSON.stringify(t.data.searchHistoryList),{domain:".kongfz.com",expires:30,path:"/"}):t.storage.onConnect().then(function(){t.storage.set("searchHistoryList",JSON.stringify(t.data.searchHistoryList))})},getHistoryOfSearchSynchronized:function(t){var e=this;if("Safari"==window.KFZ.tools.browserInfo()){if(window.KFZ.tools.cookies("historyOfSearchSynchronized")){var n=window.KFZ.tools.cookies("historyOfSearchSynchronized");t&&t(n)}}else e.storage.onConnect().then(function(){e.storage.get("historyOfSearchSynchronized").then(function(e){t&&t(e)})})},setHistoryOfSearchSynchronized:function(e){var t=this;"Safari"==window.KFZ.tools.browserInfo()?window.KFZ.tools.cookies("historyOfSearchSynchronized",e,{domain:".kongfz.com",expires:30,path:"/"}):t.storage.onConnect().then(function(){t.storage.set("historyOfSearchSynchronized",e)})},historyOfSearchSync:function(){var t=this;t.getHistoryOfSearchSynchronized(function(e){+e||t.getLocalSearchHistory(function(e){$.ajax({type:"GET",url:t.data.site.search+"Pc/History/uploadHistory",dataType:"jsonp",data:{history:e},success:function(e){e.status&&t.setHistoryOfSearchSynchronized(1)},error:function(e){}})})})},getIndexOf:function(e,t){for(var n=0;n<e.length;n++)if(e[n].keyword==t.keyword)return n;return-1}},window.KFZ=window.KFZ||{},window.KFZ.searchTools=function(){this.params={},this.paramStr={normal:"",code:""},this.encodeArr=["shopname","itemname","key","author","press","location","exkey"],this.orderParams=[],this.paramDictionary={superdebug:"debug_",mycatid:"myc_",type:"type_",ajaxdata:"ajaxdata_",showtype:"st_",addtime:"g",tag:"tag_",binding:"bind_",catnum:"cat_",shopid:"sid_",sibu:"sibu_",shopname:"r",select:"sel",itemname:"s",status:"y",key:"z",price:"t",quality:"qua_",quaselect:"qsel_",author:"l",press:"m",pubdate:"pub_",years:"n",location:"u",vcat:"vc_",order:"v",pagenum:"w",xinshu:"xs",exkey:"x",special1:"o",special2:"p",special3:"q",getmore:"more_",exact:"i_",itemfilter:"if_",perfect:"iq_",isfuzzy:"j"},this.codeRegOrder=["debug_","myc_","ajaxdata_","type_","bind_","cat_","tag_","g","t","sid_","sibu_","st_","sel","pub_","p","more_","m","o","qua_","qsel_","q","if_","iq_","i_","r","s","y","z","l","n","u","vc_","v","w","xs","x","j"],this.confDictionary=[],this.setConfDictionary()},window.KFZ.searchTools.prototype={setConfDictionary:function(){var n=this;return $.each(this.confDictionary,function(e,t){n.setCodeDictionary(t)}),this},setCodeDictionary:function(n){if(n.param&&n.code){var i="";if(this.paramDictionary[n.param]!=undefined)return this;this.paramDictionary[n.param]=n.code,$.each(this.codeRegOrder,function(e,t){if(n.code==t)return!1;n.code.length<t.length&&-1!=t.indexOf(n.code)&&(i=e+1)}),""!==i?this.codeRegOrder.splice(i,0,n.code):this.codeRegOrder.push(n.code)}return this},setParam:function(e,t){return this.updateParams(e),this.updateOrderParam(e,t),this.encoded(),this},delParam:function(e){return this.delParams(e),this.delOrderParam(e),this.encoded(),this},setParamStr:function(e,t){return this.paramStr[t]=e,this.decode(t),this},getParam:function(e){var t=this.params[e];return t&&(t=this.parserParam(t)),t},getParams:function(){var n=this,i=$.extend(!0,{},this.params);return $.each(i,function(e,t){i[e]=n.getParam(e)}),i},paramSwitch:function(e){return this.paramDictionary[e]},codeSwitch:function(n){var i="";return $.each(this.paramDictionary,function(e,t){if(n==t)return i=e,!1}),i},paramToCodeStr:function(e,t){var n=this,i="code"==t?e:this.encharCode(e),r="";return $.each(i,function(e,t){r=n.paramSwitch(e)+t}),r},encoded:function(){var n=[],i=[];return $.each(this.orderParams,function(e,t){n.push(t.paramStr),i.push(t.codeStr)}),this.paramStr={normal:"?"+n.join("&"),code:i.join("")},this},updateParams:function(e){return $.extend(this.params,e),this},delParams:function(e){return this.params[e]=null,delete this.params[e],this},uniqueOrderParam:function(e){var i="";return $.each(this.orderParams,function(t,n){if($.each(e,function(e){if(n.param[e]!=undefined)return i=t,!1}),i)return!1}),""!==i&&this.orderParams.splice(i,1),this},updateOrderParam:function(e,t){this.uniqueOrderParam(e);var n={param:e,paramStr:"",codeStr:this.paramToCodeStr($.extend(!0,{},e),t)};return $.each(e,function(e,t){n.paramStr=e+"="+t}),this.orderParams.push(n),this},delOrderParam:function(n){var i="";return $.each(this.orderParams,function(e,t){if(t.param[n])return i=e,!1}),""!==i&&this.orderParams.splice(i,1),this},encharCode:function(r){var o=this;return $.each(r,function(n,i){$.each(o.encodeArr,function(e,t){n==t&&(r[n]=o.charToUnicode(i))})}),r},paramStrToNormal:function(){var e,n=this,t=this.paramStr.code,i=this.codeRegOrder.join("|"),r="",o=new RegExp(i,"gm");return e=t.replace(o,function(e){return","+e}).substring(1).split(","),$.each(e,function(e,t){r+=t.replace(o,function(e){var t=n.codeSwitch(e);return t?"&"+t+"=":e})}),n.paramStr.normal="?"+r.substring(1),this},decode:function(s){"code"===s&&this.paramStrToNormal();var a=this,e=this.paramStr.normal.substring(1).split("&");return $.each(e,function(e,t){var n={},i=t.indexOf("=");if(-1!=i){var r=t.substring(0,i),o=t.substring(i+1);n[r]=o,a.setParam(n,s)}}),this},unicodeToChar:function(e){if(void 0===e)return"";for(var t="",n=e.split("k"),i=0,r=n.length;i<r;i++){var o=n[i];o&&(o=parseInt(o,16).toString(10),t+=String.fromCharCode(o))}return t},charToUnicode:function(e){if(!e)return"";for(var t="",n=0,i=(e=""+e).length;n<i;n++)t+="k"+e.charCodeAt(n).toString(16).toLowerCase();return t},splitParam:function(e){var i=this,t=e.split("h"),r=[];return $.each(t,function(e,t){var n={code:t,param:t};-1!=t.indexOf("k")&&(n.param=i.unicodeToChar(t)),r.push(n)}),r},parserParam:function(e){return-1!=(e=e.toString()).indexOf("h")?this.splitParam(e):-1!=e.indexOf("k")?this.unicodeToChar(e):e},cookies:function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie){var r=document.cookie.indexOf(e+"=");if(-1!=r){r=r+e.length+1;var o=document.cookie.indexOf(";",r);-1==o&&(o=document.cookie.length),i=decodeURIComponent(document.cookie.substring(r,o))}}return i}n||(n={}),null===t&&(t="",n.expires=-1);var s,a="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,a="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),a,c,l,u].join("")},addSearchHistory:function(e,t){var n="history_"+e,i=this.getSearchHistory(e)||[];if(i.length<=15){for(var r=0;r<i.length;r++)if(t==i[r]){i.splice(r,1);break}i.unshift(t)}else i.pop(),i.unshift(t);return t=JSON.stringify(i),"undefined"==typeof window.localStorage?this.cookies(n,t,{domain:e}):window.localStorage.setItem(n,t),this},getSearchHistory:function(e){var t,n="history_"+e;return t="undefined"==typeof window.localStorage?this.cookies(n)||"[]":window.localStorage.getItem(n)||"[]",JSON.parse(t)},sug:function(e,t){$.ajax({url:window.KFZ.site.searchs+"sug/suggest_server.jsp",type:"GET",cache:!1,dataType:"script",data:e,success:function(){t()}})}},function(e,t){e.widgets||(e.widgets={}),"object"==typeof module&&module.exports?module.exports=t(e.jQuery):e.widgets["searchbar/home"]=t(e.jQuery)}("undefined"!=typeof window?window:this,function(o){var e={dom:{searchForm:o("#searchForm"),searchInputBox:o(".search-input-box"),searchPut:o("input[name=searchWord]"),searchLabel:o(".search-label"),hotwordsItem:o(".hotwords-item"),searchHistoryBox:o("#searchHistoryBox")},data:{pageType:"",search_type:"active",search_pos:"",search_key:"",searcchHistoryType:{"default":0,isbn:1,shop:2,pm:3,store:4,storeItem:5},searchInfo:{searchType:"shop",status:"0",shop:["在售","已售"],pm:["在拍","已结束"]},searchPlaceholder:{shop:"商品名称、作者、出版社、ISBN",pm:"拍品名称",pmended:"拍品名称、拍品作者、拍主昵称"}},tpl:{searchSugTpl:o("#search-sug-tpl").html(),historyOfSearchTpl:o("#history-of-search-tpl").html()},searchHistorySug:"",searchTool:new window.KFZ.searchTools,init:function(){var e=o(".header-search-box").attr("pageType");this.data.pageType=e||"page",KFZ.searchInfo={},window.searchHistorySugTools=new window.searchHistorySug({searchHistoryBox:this.dom.searchHistoryBox,searchInputBox:this.dom.searchInputBox,searchForm:this.dom.searchForm,searchLabel:this.dom.searchLabel,searchPut:this.dom.searchPut}),window.searchHistorySugTools.init(),this.initEvent(),"search"!=e&&"isbnsearch"!=e||this.initSearchKey(),"index"!=e&&"search"!=e&&"shop"!=e||this.dom.searchPut.focus()},initSearchKey:function(){var e=this.getUrlParam(),t=decodeURIComponent(e.key||"");""!=t&&(this.dom.searchLabel.hide(),this.dom.searchPut.val(t))},initEvent:function(){this.setEvent({dom:o(".search-type .item-type"),event:"searchTypeTab"}),this.setEvent({dom:o(".search-status-box .status-other"),event:"searchStatusTab"}),this.setEvent({dom:o(".search-status-box"),event:"searchStatusMouseOver"}),this.setEvent({dom:o(".search-status-box"),event:"searchStatusMouseOut"}),this.setEvent({dom:this.dom.hotwordsItem,event:"hotwordsItem"}),this.setEvent({dom:o("#searchBtn"),event:"searchSubmit"}),this.setEvent({dom:o("#searchForm"),event:"searchFormSubmit"}),this.setEvent({dom:o(".adv-search-btn"),event:"advSearch"})},setEvent:function(e){var t=this;switch(e.event){case"searchTypeTab":e.dom.on("click",function(){t.searchTypeTab(this)});break;case"searchStatusTab":e.dom.on("click",function(){t.searchStatusTab(this)}),o(".search-status-box .cur-status").on("touchend",function(){o(".search-status-box").hasClass("search-status-box-hover")?o(".search-status-box").removeClass("search-status-box-hover"):o(".search-status-box").addClass("search-status-box-hover")});break;case"searchStatusMouseOver":e.dom.on("mouseenter",function(){o(this).addClass("search-status-box-hover")});break;case"searchStatusMouseOut":e.dom.on("mouseleave",function(){o(this).removeClass("search-status-box-hover")});break;case"hotwordsItem":e.dom.on("click",function(e){t.hotwordsItem(this)});break;case"searchSubmit":e.dom.on("click",function(){t.searchSubmit()});break;case"searchFormSubmit":e.dom.submit(function(){return t.searchSubmit(),!1});break;case"advSearch":e.dom.click(function(){return t.advSearch(),!1})}},searchTypeTab:function(e){var t=o(e).attr("type");this.data.searchInfo.searchType=t,this.data.searchInfo.status=0,this.dom.searchLabel.text(this.data.searchPlaceholder[t]),o(".status-other").attr("status",1),o(".search-type").removeClass("shop pm").addClass(t),o(".cur-status .text").text(this.data.searchInfo[t][0]),o(".status-other .text").text(this.data.searchInfo[t][1]),o(".status-other").removeClass("status-other-end")},searchStatusTab:function(e){var t=o(e).attr("status"),n=1==t?0:1;o(".status-other").removeClass("status-other-end"),"pm"==this.data.searchInfo.searchType&&(this.dom.searchLabel.text(this.data.searchPlaceholder["1"==t?"pmended":"pm"]),1==t&&o(".status-other").addClass("status-other-end")),this.data.searchInfo.status=t,o(e).attr("status",n),o(".cur-status .text").text(this.data.searchInfo[this.data.searchInfo.searchType][t]),o(".status-other .text").text(this.data.searchInfo[this.data.searchInfo.searchType][n]),o(".search-status-box").removeClass("search-status-box-hover")},hotwordsItem:function(e){var t=o(e).index(),n=o(e).attr("url")||"",i=this.baseEncode({search_type:"hot"}),r=o(e).text();KFZ.searchInfo.search_type="hot",KFZ.searchInfo.search_pos=t,n?(n=n.replace(/(_stpmt=)+[\w+\/=]*/,"_stpmt="+i),window.track&&track.send("c_schword_click",{type:"shop"==this.data.searchInfo.searchType?"book":"auction",querytype:"hot",key:r,pos:t,orikey:r}),window.open(n)):(this.dom.searchLabel.hide(),this.dom.searchPut.val(r),this.dom.searchForm.submit())},searchSubmit:function(){var e,t=this,n=urlParam=t.getUrlParam().xinshu,i=o.trim(t.dom.searchPut.val());t.data.search_type=KFZ.searchInfo.search_type||"active",t.data.search_pos=KFZ.searchInfo.search_pos||"",t.data.search_key=i,e="suggest"==t.data.search_type?t.baseEncode({search_type:t.data.search_type,search_pos:t.data.search_pos,search_key:t.data.search_key}):t.baseEncode({search_type:t.data.search_type}),""!=i&&(window.searchHistorySugTools.addLocalSearchHistory({keyword:i,search_time:Math.floor((new Date).getTime()/1e3),type:t.data.searcchHistoryType[t.data.searchInfo.searchType]||0}),window.track&&track.send("c_schword_click",{type:"shop"==t.data.searchInfo.searchType?"book":"auction",querytype:t.data.search_type,key:i,pos:t.data.search_pos||0,orikey:""==t.data.search_type||""==t.data.search_type?t.dom.searchPut.attr("orikey"):i}),"shop"==t.data.searchInfo.searchType&&("isbnsearch"==t.data.pageType?window.location.href=window.KFZ.site.search+"item_result/?key="+encodeURIComponent(i)+"&status="+t.data.searchInfo.status+"&_stpmt="+e:window.location.href=n?window.KFZ.site.search+"product_result/?key="+encodeURIComponent(i)+"&xinshu=1&status="+t.data.searchInfo.status+"&_stpmt="+e:window.KFZ.site.search+"product_result/?key="+encodeURIComponent(i)+"&status="+t.data.searchInfo.status+"&_stpmt="+e),"pm"==t.data.searchInfo.searchType&&("1"==t.data.searchInfo.status?window.location.href=window.KFZ.site.search+"pm/"+t.searchTool.setParam({key:i}).paramStr.code+"?_stpmt="+e:window.location.href=window.KFZ.site.pm+"search_result/?sc="+encodeURIComponent(i)+"&_stpmt="+e))},advSearch:function(){var e,t=o.trim(this.dom.searchPut.val());e="shop"==this.data.searchInfo.searchType?KFZ.site.search+"adv.html?key="+t+"&status="+this.data.searchInfo.status:KFZ.site.search+"adv_pm.html?key="+t+"&status="+this.data.searchInfo.status,window.open(e)},getUrlParam:function(){var i={};return location.search.replace(/([^&=?]+)=([^&]+)/g,function(e,t,n){i[t]=n}),i},baseEncode:function(e){var t,n,i,r,o,s,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=this._utf8_encode(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,s=(15&n)<<2|(i=e.charCodeAt(u++))>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),l=l+c.charAt(r)+c.charAt(o)+c.charAt(s)+c.charAt(a);return l},_utf8_encode:function(e){e=JSON.stringify(e).replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t}};return e.init(),e}),function(){var w,b,a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,t=/(^\s+)|(\s+$)/g,x=document;function C(e,t,n){var i,r,o=[],s=0;if(1===e.nodeType)return e;if(r=a.exec(e)){if(i=r[1])return x.getElementById(i);if(t=t||x,i=r[2])o=t.getElementsByTagName(i);else if(i=r[3])if(!n&&t.getElementsByClassName)o=t.getElementsByClassName(i);else for(n=n||t.getElementsByTagName("*");s<n.length;s++)if(1===n[s].nodeType&&c(n[s],i)){o.push(n[s]);break}}return o[0]||null}function c(e,t){return 0<=(" "+e.className+" ").indexOf(" "+t+" ")}function k(e,t){c(e,t)||(e.className=n(e.className+" "+t+" "))}function T(e,t){e.className=n((" "+e.className+" ").replace(" "+t+" "," "))}function S(e,t,n){e.style[t]=n+"px"}function n(e){return(e||"").replace(t,"")}function E(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):x.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function N(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):x.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function j(e){return"undefined"==typeof e.pageX&&(e.pageX=e.clientX+(e&&e.scrollLeft||x.body.scrollLeft||0),e.pageY=e.clientY+(e&&e.scrollTop||x.body.scrollTop||0)),e.preventDefault=e.preventDefault||function(){window.event.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){window.event.cancelBubble=!0},e}function F(){return!1}function l(e,t){for(;t[0];)e.appendChild(t[0])}var u=['<div class="tscroll-view">','<div class="tscroll-pane">',"{{content}}","</div>","</div>",'<div class="tscroll-bar tscroll-hide">','<div class="tscroll-track">','<div class="tscroll-thumb">','<div class="tscroll-thumb-end">',"</div>","</div>","</div>","</div>"];function d(e,t){var r=this,i={elem:C(".tscroll-view",null,e.childNodes)},o={elem:C(".tscroll-pane",null,i.elem.childNodes)},s={elem:C(".tscroll-bar",null,e.childNodes)},a={elem:C(".tscroll-track",s.elem)},c={elem:C(".tscroll-thumb",s.elem)},l=0,u={start:0,now:0},n={start:0,now:0},d=!1,f="top",h="Height",p=null,m={scroll:!0,wheel:40,axis:"y",trackSize:"auto",thumbSize:"auto",thumbMinSize:10,lockScroll:!0,invertScroll:!1,onSelect:!0,bounce:!1,callback:F,ready:F};function g(e){if(o.ratio<1){var t=(e=j(e||window.event)).wheelDelta?e.wheelDelta/120:-(e.detail||0)/3,n=l;l-=t*m.wheel,r.moveTo(l,"wheel"),(m.lockScroll||l!==o.slideSize&&0!==l||l!==n)&&(e.preventDefault(),e.stopPropagation())}}function y(e){k(w,"tscroll-unselect"),m.onSelect&&(w.onselectstart=F),e=j(e||window.event);var t=parseInt(c.elem.style[f]);n.start=d?e.pageX:e.pageY,u.start=isNaN(t)?0:t,b?(x.ontouchmove=function(e){e.preventDefault(),v(e.touches[0])},x.ontouchend=_):(E(x,"mousemove",v),E(x,"mouseup",_),E(c.elem,"mouseup",_))}function v(e){o.ratio<1&&(e=j(e||window.event),n.now=d?e.pageX:e.pageY,m.invertscroll&&b?u.now=Math.min(a.slideSize,Math.max(0,u.start+(n.start-n.now))):u.now=Math.min(a.slideSize,Math.max(0,u.start+(n.now-n.start))),l=u.now/a.ratio,r.moveTo(l));var t=window.navigator.userAgent.toLowerCase();!/msie/.test(t)||9<=document.documentMode||e.button||_.call(this,e)}function _(){T(w,"tscroll-unselect"),m.onSelect&&(w.onselectstart=null),b?x.ontouchmove=x.ontouchend=null:(N(x,"mousemove",v),N(x,"mouseup",_),N(c.elem,"mouseup",_))}return this.scroll=l,this.direction=f,this.wheel=g,this.setting=function(e){var t;if("object"==typeof e){for(t in m)"undefined"!=typeof e[t]&&(m[t]=e[t]);d="x"===m.axis,h=d?"Width":"Height",f=d?"left":"top",r.direction=f,r.wheel=m.wheel}return r},this.update=function(e){var t=h.toLowerCase(),n=c.elem.style[f];return n=isNaN(parseFloat(n))?0:parseFloat(n),i.size=i.elem["offset"+h],o.size=o.elem["scroll"+h],o.slideSize=Math.max(o.size-i.size,0),o.ratio=0==o.size?1:parseFloat(i.size)/o.size,1<=o.ratio?k(s.elem,"tscroll-hide"):T(s.elem,"tscroll-hide"),a.size="auto"===m.trackSize?i.size:m.trackSize,c.size="auto"===m.thumbSize?Math.max(a.size*o.ratio,m.thumbMinSize):m.thumbSize,a.slideSize=a.size-c.size,a.ratio=0==o.slideSize?1:parseFloat(a.slideSize)/o.slideSize,S(s.elem,t,a.size),S(a.elem,t,a.size),S(c.elem,t,Math.round(c.size)),void 0!==e&&(l="bottom"===e?o.slideSize:parseInt(e)),r.trackSize=a.size,r.thumbSize=c.size,r.moveTo(l),u.start+=parseFloat(c.elem.style[f])-n,r},this.moveTo=function(e,t){var n,i;return n=l=Math.min(o.slideSize,Math.max(0,e)),m.bounce&&(e<0||e>o.slideSize)&&(i=l,clearTimeout(p),l=e,p=setTimeout(function(){var e,t;t=(0==(e=i)?m.wheel:-m.wheel)/1.2,0<=(l+=t)&&l<=o.slideSize&&(l=e),r.moveTo(l)},13)),S(c.elem,f,Math.round(n*a.ratio)),S(o.elem,f,-l),r.scroll=l,r.scrollProgress=l/o.slideSize,r.scrollSize=o.slideSize,r.eventName=t||"",m.callback(r),r},r.setting(t),b?i.elem.ontouchstart=function(e){1===e.touches.length&&(y(e.touches[0]),e.stopPropagation())}:E(c.elem,"mousedown",y),m.scroll&&(window.addEventListener?(e.addEventListener("mousewheel",g,!1),e.addEventListener("DOMMouseScroll",g,!1),e.addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)):e.onmousewheel=g),m.ready(r),r.update(),this}function f(e,t){var n=f,i=C(e),r=+new Date+Math.random().toString().substr(2,4);if(null==w&&(w=C("body")),null==b&&(b="undefined"!=typeof x.documentElement.ontouchstart),null!=i){var o=i.getAttribute("data-tscroll");if(o&&n.list[o])return n.list[o].update(0);k(i,"tscroll"),i.setAttribute("data-tscroll",r),i.style.width=i.offsetWidth+1+"px";var s=x.createDocumentFragment(),a=x.createElement("div");return a.innerHTML=u.join("").replace("{{content}}",""),l(s,a.childNodes),l(s.firstChild.firstChild,i.childNodes),i.appendChild(s),a=s=null,n.list[r]=new d(i,t)}return!1}f.list={},window.tScroll=f,"function"==typeof define&&(define.amd?define("tScroll",[],function(){return f}):define.cmd&&define(function(e,t,n){return f}))}(),function(e,t){var s,n;e.widgets||(e.widgets={}),e.widgets["category/home"]=((n={elemt:{categoryBox:(s=e.jQuery)(".cagetory-box"),scrollBox:s(".cagetory-box .other-info"),other_info_box:s(".other_info_box"),rule_tab:s(".rule-tab"),rule_con:s(".rule-con-box"),rule_con_box:s(".rule-con-box")},itemListen:function(){var e=this;"PC"===this.isPc()?this.elemt.categoryBox.delegate(".list-group-item","mouseover",function(e){var t=s(this);if("wait"===t.attr("init-detail")){var n=t.parents(".list-group"),i=t.position().top+1,r=n.hasClass("other")?n.height()+1:n.height();t.attr("init-detail","configured").find(".detail").css({top:-i,height:r})}t.addClass("active")}).delegate(".list-group-item","mouseout",function(){s(this).removeClass("active")}):this.elemt.categoryBox.delegate(".list-group-item","click",function(e){var t=s(this),n=t.attr("init-detail");if(t.hasClass("active")||"A"!==e.target.tagName||"最新上书"===e.target.innerText||e.preventDefault(),"wait"===n){var i=t.parents(".list-group"),r=t.position().top+1,o=i.hasClass("other")?i.height()+1:i.height();t.attr("init-detail","configured").find(".detail").css({top:-r,height:o})}t.addClass("active"),t.siblings().removeClass("active"),t.parent().siblings().children().removeClass("active")}),e.elemt.other_info_box.mouseenter(function(){e.elemt.other_info_box.find(".labels").find("a").addClass("default_red"),s(".rule_span").find("a").removeClass("default_red"),e.elemt.other_info_box.find(".other_info_con").fadeIn("fast")}),e.elemt.other_info_box.mouseleave(function(){e.elemt.other_info_box.find(".labels").find("a").removeClass("default_red"),e.elemt.other_info_box.find(".other_info_con").fadeOut("fast"),"block"==s(".rule-con").css("display")?s(".rule_span").eq(1).find("a").addClass("default_red"):s(".rule_span").eq(0).find("a").addClass("default_red")})},renderRule:function(){var o=this,e=window.KFZ.site.wwws+"getModuleData";s.ajax({type:"GET",url:e,dataType:"jsonp",data:{moduleId:100},success:function(e){if(e.status){var t=e.data.submodule,n=(t[0].data.length,t[1].data.length),i='<ul class="rule-con hide">';if(0<n)for(var r=0;r<n;r++)i+='<li> <a href="'+t[1].data[r].linkUrl+'" target="_blank">',i+='<div class="title">'+t[1].data[r].title+"</div>",i+='<span class="time">['+t[1].data[r].startDate+"]</span></a></li>";else i+='<span class="nodata">暂无数据</span>';i+="</ul>",o.elemt.rule_con_box.append('<ul class="sign-con"><li style="font-size:12px;height:220px;overflow-y:scroll;">致歉声明<br>丁纬与赵利娜、北京古城堡图书有限公司隐私权纠纷一案，经北京互联网法院审理认定，赵利娜以昵称为“墨笺楼”的拍主身份在孔夫子旧书网上公开展示销售丁聪家信、手稿的行为侵犯丁纬的隐私权和名誉权。特向丁纬先生致以最诚恳的歉意并保证以后不再发生类似的侵权行为。<br>赵利娜、北京古城堡图书有限公司<br>2020年8月6日</li></ul>',i),o.elemt.rule_tab.delegate(".rule_span","mouseenter",function(e){var t=s(this).index();s(this).find("a").addClass("default_red"),s(this).siblings("span").find("a").removeClass("default_red"),o.elemt.rule_con.find("ul").eq(t).removeClass("hide").show(),o.elemt.rule_con.find("ul").eq(t).siblings().hide()})}},error:function(e){}})},run:function(){this.renderRule(),this.itemListen()},isPc:function(){return/phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/i.test(navigator.userAgent)?"WEB":"PC"}}).run(),n)}("undefined"!=typeof window?window:this),function(e){e.runImg={setting:{el:null,imgBox:null,times:2e3,slidebtn:null,active:null,prevBtn:null,nextBtn:null,play:null,move:null,index:null,backgroundColor:!1,prev:null,next:null},config:function(e){var n=this;$.each(e,function(e,t){n.setting[e]=t})},run:function(){var e=this;e.autoPlay(),e.background(0),e.next(e.setting.nextBtn),e.prev(e.setting.prevBtn),e.slide(e.setting.slidebtn,e.setting.imgBox,e.setting.active),e.mouseoverout(e.setting.el),$(e.setting.slidebtn).show(),$(e.setting.imgBox).find("li").hide(),$(e.setting.imgBox).find("li").eq(0).stop(!0,!1).show(),$(e.setting.slidebtn).find("li").eq(0).addClass(e.setting.active)},autoPlay:function(){var e=this;e.setting.index=0,e.setting.next=0,e.setting.move=function(){e.setting.next++,e.setting.next==$(e.setting.imgBox).find("li").length&&(e.setting.next=0),$(e.setting.imgBox).find("li img").eq(e.setting.next).attr("src")||$(e.setting.imgBox).find("li img").eq(e.setting.next).attr("src",$(e.setting.imgBox).find("li img").eq(e.setting.next).attr("data-src")),$(e.setting.imgBox).find("li").eq(e.setting.index).stop(!0,!1).fadeOut(),$(e.setting.imgBox).find("li").eq(e.setting.next).stop(!0,!1).fadeIn(),$(e.setting.slidebtn).find("li").removeClass(e.setting.active),$(e.setting.slidebtn).find("li").eq(e.setting.next).addClass(e.setting.active),e.background(e.setting.next),e.setting.index=e.setting.next},clearInterval(e.setting.play),e.setting.play=setInterval(e.setting.move,e.setting.times)},next:function(e){var t=this;$(e).on("click",function(){t.setting.move()})},prev:function(e){var t=this;$(e).on("click",function(){t.setting.next--,t.setting.next<0&&(t.setting.next=$(t.setting.imgBox).find("li").length-1),$(t.setting.imgBox).find("li").eq(t.setting.next).stop(!0,!1).fadeIn(300),$(t.setting.imgBox).find("li").eq(t.setting.index).stop(!0,!1).fadeOut(300),$(t.setting.slidebtn).find("li").removeClass(t.setting.active),$(t.setting.slidebtn).find("li").eq(t.setting.next).addClass(t.setting.active),t.background(t.setting.next),t.setting.index=t.setting.next})},slide:function(t,n,i){var r=this;$(t).find("li").hover(function(){var e=$(this).index();e!=r.setting.index&&($(n).find("li img").eq(e).attr("src")||$(n).find("li img").eq(e).attr("src",$(n).find("li img").eq(e).attr("data-src")),$(n).find("li").eq(r.setting.index).stop(!0,!1).fadeOut(),$(n).find("li").eq(e).stop(!0,!1).fadeIn(),$(t).find("li").removeClass(i),$(t).find("li").eq(e).addClass(i),r.background(e),r.setting.index=r.setting.next=e)},function(){})},mouseoverout:function(e){var t=this;$(e).hover(function(){clearInterval(t.setting.play),t.setting.play=""},function(){t.setting.play=setInterval(t.setting.move,t.setting.times)})},background:function(e){var t=$(this.setting.imgBox).find("li").eq(e).attr("data-color");$(this.setting.imgBox).find("li").eq(e).css({background:t})}},e.runImg}(window),function(e,t){e.widgets||(e.widgets={}),"object"==typeof module&&module.exports?module.exports=t(e.jQuery):e.widgets["banner/full/banner"]=t(e.jQuery)}("undefined"!=typeof window?window:this,function(t){var e={element:{prevBtn:t("#prev-btn"),nextBtn:t("#next-btn")},run:function(){this.runImg(),this.showAction(),this.showBtn()},showAction:function(){t("#count").val()<=1&&t(".banner-slider").css({display:"none"})},showBtn:function(){t("#banner-box").hover(function(){e.element.prevBtn.stop(!0,!1).fadeIn("fast"),e.element.nextBtn.stop(!0,!1).fadeIn("fast")},function(){e.element.prevBtn.stop(!0,!1).fadeOut("fast"),e.element.nextBtn.stop(!0,!1).fadeOut("fast")})},runImg:function(){var e=1==t("#_lunbo_showType").val()?"#banner-right-textButton":"#banner-right-button";runImg.config({el:"#banner-box",imgBox:".img-box",times:5e3,slidebtn:e,active:"active",prevBtn:"#prev-btn",nextBtn:"#next-btn"}),runImg.run()}};return e}),function(e){e.layer={element:{box:$(".layer-content"),slide:$(".layer-slide"),region:$(".layer-region"),inner:$(".layer-inner")},run:function(){this.mouseover(),this.mousemove(),this.mouseout()},mouseover:function(){var t=this;t.element.box.find(".layer-slide").bind("mouseover",function(e){t.index=$(this).index()})},mousemove:function(){var o,s,a=this;a.element.box.delegate(".layer-region","mousemove",function(i){i=i||e.event;var r=$(this).find(".layer-inner");o=a.offset(i).offsetX,s=a.offset(i).offsetY,r.hide(),clearTimeout(a.t),a.t=setTimeout(function(){var e=a.offset(i).offsetX,t=a.offset(i).offsetY;if(e==o&&t==s){var n=a.windowWidth()-a.element.box.find(".layer-slide").eq(a.index).offset().left-a.element.box.find(".layer-region").width();0<r.html().length&&r.fadeIn("fast"),i.clientX+a.element.inner.width()+50>=a.windowWidth()?r.css({right:20-n,top:t+20,left:"initial"}):r.css({left:e+10,top:t+20,right:"initial"})}},500)})},mouseout:function(){var t=this;t.element.box.find(".layer-region").bind("mouseout",function(e){clearTimeout(t.t),$(this).find(".layer-inner").hide()})},offset:function(e){return{offsetX:e.offsetX||e.layerX,offsetY:e.offsetY||e.layerY}},windowWidth:function(){return e.innerWidth?e.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:void 0}},e.layer}(window),function(t,n){var i="gallery/book/gallery";t.widgets||(t.widgets={}),"function"==typeof define&&define.amd?define("widgets/"+i,["libs/jQuery"],function(e){return t.widgets[i]=n(e)}):t.widgets[i]=n(t.jQuery)}(this,function(r){({element:{window:r(window),layerSlide:r(".layer-slide"),box:r(".layer-content")},run:function(){for(var e=this.element.box.find(".layer-inner"),t=0;t<e.length;t++){var n=this.removeHtmlTab(e.eq(t).html());n=n.replace(/&nbsp;/gi,""),e.eq(t).html(this.trim(n,"g"))}layer.run(),this.adapt()},adapt:function(){var n=this,e=n.element.window.width(),t=n.IEVersion();function i(e){for(var t=0;t<=n.element.layerSlide.length;t++)t<n.element.layerSlide.length-4&&n.element.layerSlide.eq(t).css({height:"234px",overflow:"visible"}).removeClass("clearmp"),1200<=e?12<=t&&n.element.layerSlide.eq(t).css({height:0,overflow:"hidden"}).addClass("clearmp"):10<=t&&n.element.layerSlide.eq(t).css({height:0,overflow:"hidden"}).addClass("clearmp")}6!=t&&7!=t&&8!=t||(e=1e3),i(e),r(window).resize(function(){var e=n.element.window.width();6!=t&&7!=t&&8!=t||(e=1e3),i(e)})},IEVersion:function(){var e=navigator.userAgent,t=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE"),n=-1<e.indexOf("Edge")&&!t,i=-1<e.indexOf("Trident")&&-1<e.indexOf("rv:11.0");if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var r=parseFloat(RegExp.$1);return 7==r?7:8==r?8:9==r?9:10==r?10:6}return n?"edge":i?11:-1},removeHtmlTab:function(e){return e.replace(/<[^>]+>/g,"")},trim:function(e,t){var n;return n=e.replace(/(^\s+)|(\s+$)/g,""),"g"==t.toLowerCase()&&(n=n.replace(/\s/g,"")),n}}).run()}),function(e,t){e.widgets||(e.widgets={}),"object"==typeof module&&module.exports?module.exports=t(e.jQuery):e.widgets["ad/zhuanti/ad"]=t(e.jQuery)}("undefined"!=typeof window?window:this,function(n){return{init:function(){this.initHtml()},initHtml:function(){var e=window.KFZ.site.wwws+"getModuleData";n.ajax({dataType:"jsonp",type:"GET",url:e,data:{moduleId:4},success:function(e){if(e.status){var t=doT.template(n("#ad-zhuanti-tpl").html());n("#ad_zhuanti").html(t(e.data))}},error:function(e){console.log("失败了"+JSON.stringify(e.data))}})}}}),function(e,t){e.widgets||(e.widgets={}),"object"==typeof module&&module.exports?module.exports=t(e.jQuery):e.widgets["floor/index_jiushu/floor"]=t(e.jQuery)}("undefined"!=typeof window?window:this,function(s){return{tpl:{sectionTpl:doT.template(s("#section-tpl").html()),sectionRecommendTpl:doT.template(s("#section-recommend-tpl").html())},init:function(e,t){"r_0"==e?this.runderRecommendFloor():this.runderFloor(e,t)},runderFloor:function(i,r){var o=this,e=window.KFZ.site.wwws+"getModuleData";s.ajax({type:"GET",url:e,dataType:"jsonp",data:{moduleId:i},success:function(e){if(e.status){var t=o.tpl.sectionTpl,n=e.data;n.ad=r,n.ad.imgList=o.getImgList(r.params.tonglanConfig),s("[moduleId="+i+"]").html(t(n)),s("[moduleId="+i+"]").removeClass("J_kfz_module kfz-loading-gary kfz-loading-w")}},error:function(e){}})},runderRecommendFloor:function(){var r=this,e=window.KFZ.site.wwws+"index/getHomeRecommend";s.ajax({type:"GET",url:e,dataType:"jsonp",success:function(e){if(e.status&&e.data)for(var t=r.tpl.sectionRecommendTpl,n=e.data,i=0;i<e.data.length;i++)s("[moduleId=r_"+i+"]").html(t(n[i])),s("[moduleId=r_"+i+"]").removeClass("J_kfz_module kfz-loading-gary kfz-loading-w")},error:function(e){}})},getImgList:function(e){var t=[];return t[0]=Number(e[0]),t[1]=Number(e[0])+Number(e[1]),t[2]=Number(e[0])+Number(e[1])+Number(e[2]),t[3]=Number(e[0])+Number(e[1])+Number(e[2])+Number(e[3]),t[4]=Number(e[0])+Number(e[1])+Number(e[2])+Number(e[3])+Number(e[4]),t}}}),function(t,n){var i="header/main/header";t.widgets||(t.widgets={}),"function"==typeof define&&define.amd?define("widgets/"+i,["libs/jQuery"],function(e){return t.widgets[i]=n(e)}):t.widgets[i]=n(t.jQuery)}(this,function(i){var e={headerSearch:function(){"PC"===this.isPc()?i(".head .nav_box li a").addClass("PC"):i(".head .nav_box li a").hover(function(){window.location.href=i(this).attr("href")});var n=this;i("body").on("click","#headerSearch_btn",function(){n.searchBtnEvent()}),i("#headerSearch_input").on({focus:function(){n.showSearchHistory()},keyup:function(e){var t=i("#headerSearch_input").val().trim();13==e.keyCode?(n.searchBtnEvent(),i(".search_iput_box .assBox").hide()):""==t?n.showSearchHistory():n.sugWordslist()}}),i("body").on("click",".search_del",function(){var e=i(this).next(".search_key_name").text();return console.log(e),n.delKeywords(e),!1}),i(document).on("click",function(e){null==i(e.target).closest(".search_iput_box").html()&&i(".search_iput_box .assBox").hide()}),i("body").on("click","#search_key_list a",function(){var e=i(this).find(".search_key_name").text().trim();i("#headerSearch_input").val(e),n.searchBtnEvent()});var e=this.getBroswer();+e.version<=9&&"IE"==e.broswer&&i(".head").append("<style>.head .nav_box li .header_line:before {left: 0!important;}</style>")},isPc:function(){return/phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/i.test(navigator.userAgent)?"WEB":"PC"},sugWordslist:function(){var e=this;i(".search_iput_box .assBox").show(),i(".search_iput_box .assBox .asstit").hide();var t="http://search.kongfz.com/sug/suggest_server.jsp?query="+i("#headerSearch_input").val().trim()+"&_="+(new Date).getTime();this.gettingList||(this.gettingList=!0,i.ajax({dataType:"jsonp",type:"GET",url:t,success:function(e){var n="";i.each(e,function(e,t){n+="<a href='javascript:;'><span class='search_key_name'>"+t+"</span></a>"}),i("#search_key_list").html(n)},error:function(){},complete:function(){e.gettingList=!1}}))},searchBtnEvent:function(){var e=i("#headerSearch_input").val().trim();i("#headerSearchtit a.now").attr("id"),""!=e&&(this.saveKeywords(),window.location.href="#")},showSearchHistory:function(){var n="",e=store.get("searchKeyUsers");console.log(e),e&&(i(".asstit").show(),e.reverse(),i.each(e,function(e,t){n+="<a href='javascript:;'><span class='search_del'>删除</span><span class='search_key_name'>"+t+"</span></a>"}),i("#search_key_list").html(n),i(".search_iput_box .assBox").show())},saveKeywords:function(){var e=i("#headerSearch_input").val().trim(),t=store.get("searchKeyUsers");if(i.isArray(t)){var n=t.length;-1==t.indexOf(e)&&(n<10||(t.reverse(),t.pop(),t.reverse()),t.push(e),store.set("searchKeyUsers",t),console.log(t))}else(t=[]).push(e),store.set("searchKeyUsers",t),console.log(t)},delKeywords:function(e){var t=store.get("searchKeyUsers"),n=t.indexOf(e);t.splice(n,1),store.set("searchKeyUsers",t),this.showSearchHistory()},charToUnicode:function(e){if(!e)return"";for(var t="",n=0,i=(e=""+e).length;n<i;n++)t+="k"+e.charCodeAt(n).toString(16).toLowerCase();return t},getBroswer:function(){var e,t={},n=navigator.userAgent.toLowerCase();return(e=n.match(/edge\/([\d.]+)/))?t.edge=e[1]:(e=n.match(/rv:([\d.]+)\) like gecko/))?t.ie=e[1]:(e=n.match(/msie ([\d.]+)/))?t.ie=e[1]:(e=n.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=n.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=n.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=n.match(/version\/([\d.]+).*safari/))&&(t.safari=e[1]),t.edge?{broswer:"Edge",version:t.edge}:t.ie?{broswer:"IE",version:t.ie}:t.firefox?{broswer:"Firefox",version:t.firefox}:t.chrome?{broswer:"Chrome",version:t.chrome}:t.opera?{broswer:"Opera",version:t.opera}:t.safari?{broswer:"Safari",version:t.safari}:{broswer:"",version:"0"}}};return e.headerSearch(),e}),function(e,t){e.widgets||(e.widgets={}),"object"==typeof module&&module.exports?module.exports=t(e.jQuery):e.widgets["bookSquare/index/bookSquare"]=t(e.jQuery)}("undefined"!=typeof window?window:this,function(a){return{tpl:{soonSaleBtnTpl:doT.template(a("#soon-sale-btn-tpl").html()),willSaleBtnTpl:doT.template(a("#will-sale-btn-tpl").html()),countDownBtnTpl:doT.template(a("#count-down-btn-tpl").html()),buyBtnTpl:doT.template(a("#buy-btn-tpl").html()),soldBtnTpl:doT.template(a("#sold-btn-tpl").html())},dom:{newSquareBox:a("#newSquareBox"),btnStatus:a(".btn-status")},init:function(){this.initHtml()},initHtml:function(){var n=this,e=window.KFZ.site.wwws+"getModuleData";a.ajax({dataType:"jsonp",type:"GET",url:e,data:{moduleId:a("#newSquareBox").attr("moduleid")},success:function(e){var t=doT.template(a("#interpolationtmpl").html());a("#newSquareBox").html(t(e.data.data)),n.btnWatch(),n.countDown()},error:function(e){console.log("失败了"+JSON.stringify(e))}})},btnWatch:function(){var s=this;this.dom.newSquareBox.delegate(".item-bottom .btn","click",function(){var t=a(this),e=t.parents(".btn-status"),n=e.attr("shopid"),i=e.attr("itemid"),r=e.attr("price"),o="timer_"+n+i;t.siblings(".error-tip").hide(),clearTimeout(s[o]),a.ajax({url:window.KFZ.site.orders+"jsonp/check/",data:{shopId:n,itemId:i,price:r,numbers:"1",isQuickBuy:"1"},type:"get",dataType:"jsonp",cache:!1,success:function(e){e.status?window.location.href=window.KFZ.site.order+"buyer/easybuy/?eb="+e.result.easybuyCode:"0001"==e.errCode?"function"==typeof window.loginWin&&window.loginWin(KFZ.site.login,"login"):(t.siblings(".error-tip").show(),s[o]=setTimeout(function(){t.siblings(".error-tip").hide()},1500))}})}),this.dom.newSquareBox.delegate(".item-bottom .sold-btn","click",function(){var e=a(this).parents(".btn-status"),t=e.attr("status"),n=e.attr("searchword");"1"==t?window.open(window.KFZ.site.search+"item_result/?status=0&key="+encodeURIComponent(n)):window.open(window.KFZ.site.search+"product_result/?status=0&key="+encodeURIComponent(n))})},countDown:function(){var i=this;a(".btn-status").each(function(){var e=a(this),t=e.attr("time"),n=e.attr("starttime");i.renderCountDownBtn(parseInt(t),parseInt(n),e)})},renderCountDownBtn:function(t,n,i){var c=this,l=0,u=(new Date).getTime();setTimeout(function(){!function e(t,n,i){l++;var r=(new Date).getTime()-(u+1e3*l);1e4<r&&(l+=~~(r/1e3));var o=1e3-r;if(o<0&&(o=0),0<t){var s=n-t,a=new Date(1e3*s);a.setHours(0),a.setMinutes(0),a.setSeconds(0),(a.getTime()+864e5)/1e3-s<t?i.html(c.tpl.soonSaleBtnTpl(c.formatDate(1e3*n))).parents(".item").addClass("soon-sale").removeClass("will-sale").removeClass("sold"):3600<t?i.html(c.tpl.willSaleBtnTpl(c.formatDate(1e3*n))).parents(".item").addClass("will-sale").removeClass("soon-sale").removeClass("sold"):i.html(c.tpl.countDownBtnTpl(c.formatSecond(t))).removeClass("soon-sale").removeClass("will-sale").removeClass("sold"),setTimeout(function(){e(t-1,n,i)},o)}else i.parents(".item").hasClass("sold")?c.renderSoldBtn(i):c.renderBuyBtn(i)}(t-1,n,i)},1e3)},renderBuyBtn:function(e){e.html(this.tpl.buyBtnTpl())},renderSoldBtn:function(e){e.html(this.tpl.soldBtnTpl())},formatSecond:function(e){return{m:Math.floor(e/60),s:e%60}},formatDate:function(e){var t=new Date(e);return{M:t.getMonth()+1,D:t.getDate(),h:t.getHours()<10?"0"+t.getHours():t.getHours(),m:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}}}}),function(t,n){var i="footer/friendlink/footer";t.widgets||(t.widgets={}),"function"==typeof define&&define.amd?define("widgets/"+i,["libs/jQuery"],function(e){return t.widgets[i]=n(e)}):t.widgets[i]=n(t.jQuery)}(this,function(t){var e={friendsLink:function(){t("body").on("mouseover",".friend_link_tit a",function(){t(".friend_link_tit a").removeClass("now"),t(this).addClass("now");var e=t(this).index();t(".friend_link_list .f_box").hide(),t(".friend_link_list .f_box").eq(e).show()})}};return e.friendsLink(),e}),function(e,t){var n,i;e.widgets||(e.widgets={}),e.widgets["pmCompany/index"]=(n=e.jQuery,(i={run:function(){n(".pmCompany-con li img").each(function(){n(this).attr("src",n(this).attr("data-src"))})}}).run(),i)}("undefined"!=typeof window?window:this),function(e,t){e.widgets||(e.widgets={}),e.widgets.ie8Version=function(e){var t=navigator.userAgent,n=-1!=t.indexOf("Windows NT 5")&&-1!=t.indexOf("MSIE")&&-1==t.indexOf("Opera"),i=-1!=t.indexOf("MSIE 6.0")||-1!=t.indexOf("MSIE 7.0"),r=-1!=t.indexOf("MSIE 8.0");if(n&&i||i){var o=e('<div style="position:fixed;left:50%;top:50%;width:680px;height:400px;margin-left:-340px;margin-top:-200px;border-radius: 4px;background:#fff;overflow:hidden;z-index:100000001;"><div style="width:100%;height:70px;text-align:center;line-height:70px;font-size:22px;background:#EDF6FF;">浏览器升级提示</div><div style="width:592px;height:216px;border-bottom:1px solid #E5E5E5;margin:0 auto;overflow:hidden;"><div style="float:left;width:400px;height:68px;margin-top:70px;font-size:16px;color: #262626;line-height: 14px;"><p style="margin: 14px 0;">您的浏览器版本过低</p><p style="margin: 14px 0;">为避免购物时可能存在的安全风险，建议您升级浏览器。</p></div><div style="float:right;width:120px;font-size:0;margin-top:41px;text-align:center;"><img src="/static/kfz-ie8Verson/kfzapp.png" width="120" alt=""><span style="font-size:12px;color:#999999;line-height:34px;">下载孔夫子旧书网App</span></div></div><div style="width:592px;margin:0 auto;"><div style="font-size:12px;color:#999999;margin-top:10px;">或者您还可以下载：</div><div style="width:100%;margin-top:6px;line-height: 0px;text-align:center;"><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="https://pc.qq.com/detail/18/detail_21258.html" ><div><img width="40" src="/static/kfz-ie8Verson/google.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">Chrome</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="https://ie.sogou.com/"><div><img width="40" src="/static/kfz-ie8Verson/sougou.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">搜狗</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="https://browser.qq.com/?adtag=SEM1"><div><img width="40" src="/static/kfz-ie8Verson/qq.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">QQ</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="https://browser.360.cn/se/"><div><img width="40" src="/static/kfz-ie8Verson/360.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">360</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="https://www.liebao.cn/"><div><img width="40" src="/static/kfz-ie8Verson/liebao.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">猎豹</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="http://www.firefox.com.cn/"><div><img width="40" src="/static/kfz-ie8Verson/firefox.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">Firefox</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;margin-right: 27px;"><a target="_blank" href="http://www.maxthon.cn/hd/fastbrowser1/?t=hp3"><div><img width="40" src="/static/kfz-ie8Verson/aoyou.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">遨游</span></a></div><div style="float:left;width:50px;text-decoration:none;line-height:0px;text-align:center;"><a target="_blank" href="https://liulanqi.baidu.com/"><div><img width="40" src="/static/kfz-ie8Verson/baidu.png" alt=""></div><span style="font-size:12px;color:#999999;line-height:20px;">百度</span></a></div></div></div></div>'),s=e('<div style="position: fixed;top: 0px;left: 0px;z-index: 100000000;width: 100%;height: 100%;background-color: #000;filter: alpha(opacity=50); opacity: .5;"></div>');(c=e("body")).prepend(s),c.prepend(o)}if(r){var a=e('<div style="width:100%;height:36px;line-height:36px;background:#ffffe1;font-size:12px;color: #333;"></div>'),c=e("body");a.html("<span style='padding-left: 50px;'>您正在使用的浏览器版本过低，可能导致页面无法正常显示，为提升您的购物体验，建议您升级或更换浏览器</span><span id='viewTopCloseTip' style='float: right;width: 20px;height: 20px;line-height:20px;margin-right: 50px;margin-top: 8px;cursor:pointer;'><img src='/static/kfz-ie8Verson/1.png' width='14px' height='14px'></span>"),c.prepend(a),e("#viewTopCloseTip").click(function(){a.remove()})}}(e.jQuery)}("undefined"!=typeof window?window:this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Subscribe=t()}("undefined"!=typeof window?window:this,function(){var e=function(e){e.url=e.url||"",e.client=e.client||"m",e.clientVersion=e.clientVersion||"1.0.1",e.talkId=e.talkId||"",e.init=e.init||!1,this.config=e,this.debug=!1,this.data={},this.data.t="",this.data.t1="",this.data.reTime=5e3,this.data.self=!1,this.data.heartTime=0,this.data.ie={t:"",ts:""},this.ims={},this.ims.ws="",this.on={},this.on.message=e.on.message||"",this.on.close=e.on.close||"",this.on.error=e.on.error||"",this.on.open=e.on.open||"",this.config.init&&this.connect()};return e.prototype={connect:function(){this.webSocket(),this.isOnline()},webSocket:function(){var e=this,t="";this.initStatus();try{t=this.config.talkId?this.config.url+"?client="+this.config.client+"&clientVersion="+this.config.clientVersion+"&talkerId="+this.config.talkId:this.config.url+"?client="+this.config.client+"&clientVersion="+this.config.clientVersion,"WebSocket"in window?(this.ims.ws=new WebSocket(t),this.onopen(),this.onmessage(),this.onclose(),this.onerror()):this.config.talkId?this.imServiceIe():this.SubService()}catch(i){e.initStatus();var n=setTimeout(function(){e.reconnect(),clearTimeout(n)},3e4)}},initStatus:function(){var e=this;e.ims.ws&&(e.ims.ws.close&&e.ims.ws.close(),e.ims.ws=""),e.data.t1&&(clearTimeout(e.data.t1),e.data.t1=""),e.data.t&&(clearTimeout(e.data.t),e.data.t="")},onopen:function(){var e=this;this.ims.ws.onopen=function(){e.startHeartcheck(),e.on.open&&e.on.open({result:"open"})}},onmessage:function(){var i=this;this.ims.ws.onmessage=function(e){try{var t=e.data;i.data.heartTime=i.data.heartTime-1,i.data.heartTime<0&&(i.data.heartTime=0),i.receivedMsgRender(t),i.data.reTime=5e3}catch(n){}}},onclose:function(){var e=this;this.ims.ws.onclose=function(){e.on.close&&e.on.close({result:"close"}),e.data.self||(e.data.t1||(e.data.t1&&(clearTimeout(e.data.t1),e.data.t1=""),e.reconnect()),e.data.t&&(clearInterval(e.data.t),e.data.t=""))}},onerror:function(){var t=this;this.ims.ws.onerror=function(e){t.on.error&&t.on.error(e)}},startHeartcheck:function(){var t=this;1===t.ims.ws.readyState&&(t.ims.ws.send("i"),t.data.heartTime=+t.data.heartTime+1,t.data.t=setInterval(function(){t.ims.ws.send("i"),t.data.heartTime=+t.data.heartTime+1;var e=setTimeout(function(){3<t.data.heartTime&&(t.reconnect(),t.data.heartTime=0),clearTimeout(e)},200)},18e3))},reconnect:function(){var e=this;if(e.data.t1)return!1;e.data.t1=setTimeout(function(){e.webSocket(),e.data.reTime<=8e4?e.data.reTime=e.data.reTime+e.data.reTime:e.data.reTime=+e.randomNum(-50,50)+16e4,clearTimeout(e.data.t1),e.data.t1=""},e.data.reTime)},close:function(e){"self"==e&&(this.data.self=!0),clearInterval(this.data.t),this.data.t="",this.ims.ws&&this.ims.ws.close(),clearInterval(this.data.ie.t),clearInterval(this.data.ie.ts)},receivedMsgRender:function(e){var t;"o"!=e&&"i"!=e&&(t=this.messageFilter(e))&&this.on.message&&this.on.message(t)},messageFilter:function(e){var t=e.slice(0,1),n=e.slice(1,7),i=JSON.parse(e.slice(7,e.length));return this.ims.ws.send("a"+n),"m"==t&&i},randomNum:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}},isOnline:function(){var e=this;try{e.addHandler(window,"online",function(){e.online()}),e.addHandler(window,"offline",function(){e.offline()})}catch(t){}},online:function(){this.reconnect()},offline:function(){this.close("self"),this.on.error&&this.on.error({result:"offline"})},addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},imServiceIe:function(){this.socketMessages()},socketMessages:function(){var n=this,e="https://"+this.config.url.split("/")[2];n.data.ie.t=setInterval(function(){n.config.talkId&&$.ajax({url:e+"ajax/pull/socketMessages/"+n.config.talkId,type:"GET",dataType:"JSONP",timeout:3e3,success:function(e){if($.isArray(e))for(var t=0;t<e.length;t++)n.receivedMsgRender(e[t],"ie");else clearInterval(n.data.ie.t),n.data.ie.t=""},error:function(){clearInterval(n.data.ie.t),n.data.ie.t=""}})},5e3)},SubService:function(){this.ieSocketMessages()},ieSocketMessages:function(){var n=this,e="https://"+this.config.url.split("/")[2];n.data.ie.ts=setInterval(function(){$.ajax({url:e+"ajax/pull/socketMessages",type:"GET",dataType:"JSONP",timeout:3e3,success:function(e){if($.isArray(e))for(var t=0;t<e.length;t++)n.receivedMsgRender(e[t],"ie");else clearInterval(n.data.ie.ts),n.data.ie.ts=""},error:function(){clearInterval(n.data.ie.ts),n.data.ie.ts=""}})},5e3)}},window.Subscribe=e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.imNotice=t(e.Subscribe)}("undefined"!=typeof window?window:this,function(e){var t={debug:!1,ipad:navigator.userAgent.match(/(iPad)/),resetLock:!1,ieVersion:10,appName:window.KFZ.isMobileSite?"MOBILE_KFZ_WEB_NOTICE":"WEB_KFZ_WEB_NOTICE",settings:{},permission:{},userId:"",socket:null,channel:"IM_NOTICE_",clientId:"",socketId:"",unreadNum:0,socketConf:{reconnection:!0,timeout:2e4,reconnectionAttempts:100,reconnectionDelay:15e3,reconnectionDelayMax:3e4,"force new connection":!1},template:['<div id="ImNoticeWin" class="imNotice-win">','<div class="item back-top"><span class="iconfont icon-fanhuidingbu"></span><div class="text">返回顶部</div></div>','<div class="item feed-back"><span class="iconfont icon-fankui1"></span><div class="text">用户反馈</div></div>','<div class="item cart-list"><span class="iconfont icon-yijiagouwuche"></span><span class="cart-list-num"></span><div class="text">购物车</div></div>','<div class="item im-notice"><span class="iconfont icon-xinxi1"></span><div class="text">消&nbsp;&nbsp;息</div></div>','<div class="item im-broadcast"><span class="iconfont icon-guangbo"></span><div class="text">广&nbsp;&nbsp;播</div></div>','<div class="im-notice-player"><audio preload="metadata" src=""></audio></div>',"</div>"],loopVisitorTimer:null,subsockets:"",init:function(e){this.ieVersion=this.checkBrowserVersion(),this.contactManagerConf(),this.bindResetEvent(),this.renderImNoticeWin(),this.initNotice(),this.loopVisitor()},contactManagerConf:function(){var t=this;window.KFZ.tools.contactManager.on("cartNumNotice",function(e){t.cartNumShow(e)},{from:"消息 cartNumNotice ",description:"购物车数量变化 -> 更新购物车数量 contactManagerConf"}),window.KFZ.tools.contactManager.on("imNoticePageInit",function(){t.imNoticePageInit()},{from:"消息 imNotice ",description:"页面消息初始化 -> 更新在线状态 绑定点击事件 contactManagerConf"})},imNoticePageInit:function(){this.rendOnlineState(),this.bindPageEvents()},rendOnlineState:function(){var t=[],e=window.KFZ.site.messages+"Interface/User/getUserRealOnlineState",n=$(".imNotice-message");if(n.each(function(){var e=$(this).attr("userid");0<e&&t.push(e)}),0==t.length)return!1;3<t.length&&(e=window.KFZ.site.messages+"Interface/User/getUserOnlineState"),$.ajax({url:e,type:"get",dataType:"jsonp",jsonp:"callback",data:{userIds:t.join(",")},success:function(t){1==t.isSuccess&&t.responseData&&n.each(function(){var e=$(this),n=e.attr("userid"),i=!1;$.each(t.responseData,function(e,t){if(t==n)return!(i=!0)}),i?e.removeClass("off-line").addClass("on-line"):e.removeClass("on-line").addClass("off-line")})}})},bindPageEvents:function(){var s=this;$(".imNotice-message").off("click").on("click",function(){var e=$(this),t=e.attr("type");if("talk"===t){var n=e.attr("userid"),i=e.attr("sendreferer"),r=e.attr("infourl"),o="";0<n&&(i&&r&&(o="&sendReferer="+i+"&url="+r),s.openMsgWin(window.KFZ.site.message+"?talkId="+n+o))}else"customerService"===t?s.openMsgWin(window.KFZ.site.message+"#customerService"):s.openMsgWin()})},getSocketServerAddress:function(){var t=this;if(null!==this.socket&&!0===this.socket.connected)return this.printLog({title:"socket检测",from:"getSocketServerAddress",description:" socket 连接已否存在"}),!1;$.ajax({url:window.KFZ.site.messages+"Interface/User/initNotice/",type:"get",data:{appName:this.appName},dataType:"jsonp",jsonp:"callback",success:function(e){!0===e.status&&t.configure(e)}})},initNotice:function(){var t=this;$.ajax({url:window.KFZ.site.messages+"v1/pc/message/initNotice",type:"get",data:{appName:this.appName},dataType:"jsonp",jsonp:"callback",success:function(e){!0===e.status&&t.configure(e)}})},configure:function(e){this.settings=e.result.settings||{},this.permission=e.result.permission||{},this.userId=e.result.userId||"",this.showImNotice(),this.initSubscribe(),this.handleNoticeTip({result:{cmd:"unreadMessage",message:e.result}})},initSubscribe:function(){var t=this;this.subsockets=new e({init:!0,url:KFZ.site.subs+"ws",client:"pc",clientVersion:"1.1",on:{message:function(e){t.updataUnreadNum(e)},open:function(e){console.log({open:e})},close:function(e){console.log({close:e})},error:function(e){console.log({error:e})}}})},updataUnreadNum:function(e){"UNREAD_NUM"==e.channel&&e.data&&(this.unreadNum=e.data.unreadNum,this.msgNotice(),this.numShow(),"1"==this.settings.openVoice&&this.playVoice())},handleNoticeTip:function(e){var t=e.result;switch(t.cmd){case"unreadMessage":t.message.unreadTotal,this.unreadNum,this.unreadNum=t.message.unreadTotal,this.numShow().msgNotice()}},renderImNoticeWin:function(){$("#ImNoticeWin").remove();var e=this;$("body").append(this.template.join(""));var t=$("#ImNoticeWin");t.find(".back-top").on("click",function(){0===$(document).scrollTop()||$("html,body").animate({scrollTop:0},400)}),t.find(".feed-back").on("click",function(){window.open(window.KFZ.site.help+"feedback/?returnUrl="+window.location.href)}),t.find(".im-notice").on("click",function(){e.openMsgWin()}),t.find(".im-broadcast").on("click",function(){window.open(window.KFZ.site.message+"Index/myMessage/#inbox"),$(this).hide()}),t.find(".cart-list").on("click",function(){window.open(window.KFZ.site.cart+"list")}),$(window).scroll(function(){$(document).scrollTop()>$(window).height()?t.find(".back-top").fadeIn():t.find(".back-top").fadeOut()})},showImNotice:function(){$("#ImNoticeWin").find("audio").attr("src",window.KFZ.site.messages+"images/voice/"+this.settings.voice+".mp3"),$("#ImNoticeWin").find(".im-notice").show()},showCartList:function(){$("#ImNoticeWin").find(".cart-list").show()},cartNumShow:function(e){var t="购物车";if(0<e){t="去购物车结算",99<e?$("#ImNoticeWin").find(".cart-list-num").addClass("more").html("•••").fadeIn():$("#ImNoticeWin").find(".cart-list-num").removeClass("more").html(e).fadeIn(),$("#ImNoticeWin").find(".cart-list-num").addClass("cart-num-ani");var n=setTimeout(function(){$("#ImNoticeWin").find(".cart-list-num").removeClass("cart-num-ani"),clearTimeout(n)},1e3)}else $("#ImNoticeWin").find(".cart-list-num").removeClass("more").html("").hide();return $("#ImNoticeWin").find(".cart-list").find(".text").html(t),this},noticePoll:function(){var t=this;setInterval(function(){$.ajax({url:window.KFZ.site.messages+"/Interface/User/getUnreadNum",type:"get",data:{appName:this.appName},dataType:"jsonp",jsonp:"callback",success:function(e){t.unreadNum=e,t.numShow()}})},3e4)},connectNoticeService:function(e){var t=this;this.socket=window.io(e,this.socketConf),this.socket.on("connecting",function(){t.printLog({title:"connecting",from:"connectNoticeService",description:"正在连接"})}),this.socket.on("connect",function(){t.printLog({title:"connect",from:"connectNoticeService",description:"连接成功"})}),this.socket.on("connect_failed",function(){t.printLog({title:"connect_failed",from:"connectNoticeService",description:"连接失败"})}),this.socket.on("disconnect",function(){t.resetLock=!1,t.printLog({title:"disconnect",from:"connectNoticeService",description:"断开连接"})}),this.socket.on("reconnect_attempt",function(){t.printLog({title:"reconnect_attempt",from:"connectNoticeService",description:"准备重连"})}),this.socket.on("reconnecting",function(){t.printLog({title:"reconnecting",from:"connectNoticeService",description:"正在重连"})}),this.socket.on("reconnect",function(){t.printLog({title:"reconnect",from:"connectNoticeService",description:"成功重连"})}),this.socket.on("reconnect_failed",function(){t.printLog({title:"reconnect_failed",from:"connectNoticeService",description:"重连失败"})}),this.socket.on("reconnect_error",function(){t.printLog({title:"reconnect_error",from:"connectNoticeService",description:"重连错误"})}),this.socket.on("error",function(e){t.printLog({title:"error",from:"connectNoticeService",description:"未知错误 "+JSON.stringify(e)})}),this.socket.on("connected",function(e){t.clientId=e.clientId,t.socketId=e.socketId,t.socket.on(t.channel+e.userId,function(e){t.handleNotice(e)}),t.socket.on("BROADCAST",function(){t.handleNotice({result:{cmd:"BROADCAST",message:""}})}),t.printLog({title:"connected",from:"connectNoticeService",description:"连接完成 监听服务端消息",data:e})})},handleNotice:function(e){var t=e.result;switch(t.cmd){case"unreadMessage":t.message.unreadNum,this.unreadNum,this.unreadNum=t.message.unreadNum,this.numShow().msgNotice(),"1"==this.settings.openVoice&&t.message.socketId==this.socketId&&this.playVoice(),this.printLog({title:"unreadMessage",from:"handleNotice",description:"未读消息通知",data:t});break;case"kick":"logout"==t.message.cmd&&(this.socket&&this.socket.close(),$("#ImNoticeWin").find(".im-notice").hide(),$("#ImNoticeWin").find(".im-broadcast").hide()),this.printLog({title:"kick",from:"handleNotice",description:"踢出通知",data:t});break;case"BROADCAST":this.broadcastShow(),"1"==this.settings.openVoice&&t.message.socketId==this.socketId&&this.playVoice(),this.printLog({title:"BROADCAST",from:"handleNotice",description:"系统通知",data:t})}},numShow:function(){var e="消&nbsp;&nbsp;息";return 0<this.unreadNum?($("#ImNoticeWin").find(".im-notice").addClass("num-show"),e=99<this.unreadNum?"99+新消息":this.unreadNum+"&nbsp;新消息",$("#ImNoticeWin").find(".im-notice").find(".text").html(e)):$("#ImNoticeWin").find(".im-notice").removeClass("num-show").find(".text").html(e),this},broadcastShow:function(){$("#ImNoticeWin").find(".im-broadcast").fadeIn()},msgNotice:function(){window.KFZ.tools.contactManager.run("msgNotice",{param:this.unreadNum,from:"消息 imNotice ",description:"未读消息数量发生变化"})},playVoice:function(){if(this.ieVersion<9){var e=window.KFZ.site.message+"images/voice/"+this.settings.voice+".swf",t='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="';t+='https://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" width="0" height="0" id="Untitled-1" align="middle">\n',t+='<param name="allowScriptAccess" value="sameDomain" />\n',t+='<param name="movie" value="'+e+'" />\n',t+='<param name="quality" value="high" />\n',t+='<param name="bgcolor" value="#ffffff" />\n',t+='<embed src="'+e+'" quality="high" loop="false" bgcolor="#ffffff" width="0" height="0" name="mymovie" align="middle" ',t+='allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="https://www.macromedia.com/go/getflashplayer" />\n',t+="</object>",$("#ImNoticeWin").find(".im-notice-player").html(t)}else"hidden"!=this.getVisibilityState()&&$("#ImNoticeWin").find("audio")[0].play()},getVisibilityState:function(){return"visibilityState"in document?document.visibilityState:null},bindResetEvent:function(){var e,t,n=this;"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),"undefined"==typeof document.addEventListener&&"undefined"==typeof document[e]||document.addEventListener(t,function(){document[e]||n.socketReconnect()},!1),$(window).focus(this.socketReconnect),$(window).mouseover(this.socketReconnect)},socketReconnect:function(){this.socket&&0==this.socket.connected&&!this.resetLock&&(this.resetLock=!0,this.socketConf["force new connection"]=!0,this.getSocketServerAddress())},checkBrowserVersion:function(){if(0<=window.navigator.userAgent.indexOf("MSIE")&&window.navigator.userAgent.indexOf("Opera")<0){var e=window.navigator.appName,t=window.navigator.appVersion.split(";")[1].replace(/[ ]/g,"");return"Microsoft Internet Explorer"==e&&"MSIE6.0"==t?6:"Microsoft Internet Explorer"==e&&"MSIE7.0"==t?7:"Microsoft Internet Explorer"==e&&"MSIE8.0"==t?8:"Microsoft Internet Explorer"==e&&"MSIE9.0"==t?9:10}return 10},openMsgWin:function(e){var t=e||window.KFZ.site.message;return window.open(t,"_blank"),!1},loopVisitor:function(){function e(){$.ajax({url:window.KFZ.site.messages+"Interface/User/loopVisitor/",type:"get",dataType:"jsonp",jsonp:"callback",data:{device:"WEB",appName:"KFZ_WEB"},success:function(e){}})}clearInterval(this.loopVisitorTimer),e(),this.loopVisitorTimer=setInterval(function(){e()},18e4)},printLog:function(e){this.debug&&window.console&&(window.console.group(e.title),window.console.log("描述："+(e.description||"无描述信息")),window.console.log("接收到的数据：",e.data||"未接收到数据或未打印数据"),window.console.log("时间："+(new Date).toLocaleString()),window.console.log("来源："+e.from||"未知来源"),window.console.groupEnd())}};return t.init(),window.imNotice=t}),function(){var e=window.location.protocol+"//"+window.location.host+"/";!/https:\/\//.test(e)&&setTimeout(function(){/kongfz\.cn/i.test(e)?function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e9887cc33a1d80028a23ab3a80d16a5a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}():/kongfz\.com/i.test(e)?(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?bca7840de7b518b3c5e6c6d73ca2662c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),/shequ\.kongfz\.com/i.test(e)&&function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f8663b704cbf53aa8db7ee7ebfa7cf70";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?33be6c04e0febc7531a1315c9594b136";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()):/gujiushu\.com/i.test(e)&&function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f8663b704cbf53aa8db7ee7ebfa7cf70";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},1e3)}();
!function(a,e){a.widgets||(a.widgets={}),"object"==typeof module&&module.exports?module.exports=e(a.jQuery):e(a.jQuery,a.widgets["banner/full/banner"],a.widgets["floor/index_jiushu/floor"],a.widgets["bookSquare/index/bookSquare"],a.widgets["ad/zhuanti/ad"])}("undefined"!=typeof window?window:this,function(r,a,s,i,c){var l={data:{channelid:9,maxnum:3,leftMaxnumName:"新书推荐",leftMaxnumSubName:"0",adData:{}},dom:{contentBox:r(".content-box"),floorBox:r(".floor-box"),contentRight:r(".content-right"),bannerBox:r("#banner-box"),pmBox:r(".pm-box"),recommendBook:r(".gallery-book-list"),newSquareBox:r("#newSquareBox"),adZhuanti:r("#ad_zhuanti")},init:function(){a.run(),this.initAd(),this.initEvent()},initAd:function(){var e=this,a=window.KFZ.site.wwws+"getModuleData";r.ajax({type:"GET",url:a,dataType:"jsonp",data:{moduleId:5},success:function(a){a.status&&(e.data.adData=a.data,e.runder())},error:function(a){}})},runder:function(){r(window).on("scroll",this.throttle(this.lazyload,500,1e3))},initEvent:function(){var n=this;n.dom.bannerBox.delegate(".banner-link","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1,block_name:"轮播广告位",block_subname:"",res_type:"unknown",res_pos:a.index(),res_id:"",res_name:a.attr("description"),res_url:a.attr("link")};n.postData({type:"banner",param:e})}),n.dom.bannerBox.delegate(".banner-right-btn","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1,block_name:"轮播广告位",block_subname:"",res_type:"unknown",res_pos:a.index(),res_id:"",res_name:a.attr("description"),res_url:a.attr("link")};n.postData({type:"banner",param:e})}),n.dom.pmBox.delegate(".pm-box-ad-item","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:2,block_name:"拍卖公司广告",block_subname:"",res_type:"company",res_pos:a.index(),res_id:"",res_name:a.attr("description"),res_url:a.attr("link")};n.postData({type:"company",param:e})}),n.dom.contentBox.delegate(".more_btn","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:a.attr("block_pos")||1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:a.attr("res_type"),datasource:a.attr("datasource")||0,res_pos:"more",res_id:"",res_name:"",res_url:a.attr("href")};n.postData({type:a.attr("res_type"),param:e})}),n.dom.recommendBook.delegate(".gallery-book-slide","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:3,block_name:"好书推荐",block_subname:"",datasource:a.attr("datasource")||0,res_type:"item",res_pos:a.index(),res_id:a.attr("isbn"),res_name:a.attr("name"),itemid:a.attr("isbn")};n.postData({type:"item",param:e})}),n.dom.newSquareBox.delegate(".item","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:4,block_name:"新书广场",block_subname:"",res_type:"book",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("itemid"),res_name:a.attr("itemname"),shopid:a.attr("shopid")};n.postData({type:"book",param:e})}),n.dom.newSquareBox.delegate(".easybuy_btn","click",function(a){a.stopPropagation();var e=r(this).parents(".btn-status"),t={channelid:n.data.channelid,block_pos:4,block_name:"新书广场",block_subname:"",res_type:"book",res_pos:e.parents(".item").index(),res_id:e.attr("itemid"),res_name:e.attr("itemname"),shopid:e.attr("shopid")};n.postData({type:"easybuy",param:t})}),n.dom.newSquareBox.delegate(".sold-btn","click",function(a){a.stopPropagation();var e=r(this).parents(".btn-status"),t={channelid:n.data.channelid,block_pos:4,block_name:"新书广场",block_subname:"",res_type:"book",res_pos:e.parents(".item").index(),res_id:e.attr("itemid"),res_name:e.attr("itemname"),shopid:e.attr("shopid")};n.postData({type:"findSimilar",param:t})}),n.dom.adZhuanti.delegate(".ad_zhuanti_link","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:5,block_name:"书单广告",block_subname:"",res_type:"bklist",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:"",res_name:a.attr("description"),res_url:a.attr("href")};n.postData({type:"bklist",param:e})}),n.dom.floorBox.delegate(".tag-link","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:"",res_type:"tag",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:"",res_name:a.attr("res_name"),res_url:a.attr("link")};n.postData({type:"tag",param:e})}),n.dom.floorBox.delegate(".track-isbn","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:"item",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("isbn"),res_name:a.attr("res_name"),res_url:a.attr("link"),itemid:a.attr("isbn")};n.postData({type:"item",param:e})}),n.dom.floorBox.delegate(".track-book","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:"book",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("itemid"),res_name:a.attr("res_name"),shopid:a.attr("shopid")};n.postData({type:"book",param:e})}),n.dom.floorBox.delegate(".track-book-shop","click",function(a){a.stopPropagation();var e=r(this),t={channelid:n.data.channelid,block_pos:1*e.parents(".floor_num").index()+6,block_name:e.attr("block_name"),block_subname:e.attr("block_subname"),res_type:"shop",datasource:e.attr("datasource")||0,res_pos:e.parents(".shop-item").index(),res_id:e.attr("shopid"),res_name:e.attr("res_name"),shopid:e.attr("shopid")};n.postData({type:"shop",param:t})}),n.dom.floorBox.delegate(".track-shop","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:"shop",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("shopid"),res_name:a.attr("res_name"),shopid:a.attr("shopid")};n.postData({type:"shop",param:e})}),n.dom.floorBox.delegate(".track-auction","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:"auction",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("itemid"),res_name:a.attr("res_name"),sellerid:a.attr("sellerid")};n.postData({type:"auction",param:e})}),n.dom.floorBox.delegate(".track-special-auction","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:1*a.parents(".floor_num").index()+6,block_name:a.attr("block_name"),block_subname:a.attr("block_subname"),res_type:"aucspecial",datasource:a.attr("datasource")||0,res_pos:a.index(),res_id:a.attr("specialid"),res_name:a.attr("res_name"),sellerid:a.attr("sellerid")};n.postData({type:"aucspecial",param:e})}),n.dom.contentBox.delegate(".track-company","click",function(){var a=r(this),e={channelid:n.data.channelid,block_pos:"15",block_name:"拍卖公司联盟",block_subname:a.attr("block_subname"),res_type:"company",datasource:a.attr("datasource")||0,res_pos:a.index()-1,res_id:a.attr("res_id"),res_name:a.attr("res_name"),res_url:a.attr("link")};n.postData({type:"company",param:e})}),r(window).on("beforeunload",function(){var a={datasource:5<n.data.maxnum&&n.data.maxnum<12?1:0,maxnum:n.data.maxnum+"_"+n.data.leftMaxnumName+"_"+n.data.leftMaxnumSubName,block_pos:n.data.maxnum,block_name:n.data.leftMaxnumName,block_subname:n.data.leftMaxnumSubName};n.postData({type:"beforeunload",param:a})})},postData:function(a){var e="",t=a.param;switch(a.type){case"nav":t={};break;case"banner":e="c_ads_click";break;case"item":case"book":case"tag":case"bklist":case"shop":case"shopsepecial":case"auction":case"aucspecial":case"seller":case"company":case"aucarea":e="c_feedline_click";break;case"easybuy":e="c_easybuy";break;case"findSimilar":e="c_findSimilar";break;case"beforeunload":e="c_pageflow"}track.send(e,t)},throttle:function(e,t,n){var o=null,r=new Date;return function(){var a=new Date;clearTimeout(o),n<=a-r?(e(),r=a):o=setTimeout(e,t)}},lazyload:function(){var t=l,a=r(".J_kfz_module"),e=r(".track-pageflow"),n=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;r.each(a,function(a,e){r(e).offset().top<n+o+800&&("11"==r(e).attr("moduleId")?(i.init(),r(e).removeClass("J_kfz_module kfz-loading-gary kfz-loading-w")):"4"==r(e).attr("moduleId")?(c.init(),r(e).removeClass("J_kfz_module kfz-loading-gary kfz-loading-w")):s.init(r(e).attr("moduleId"),t.data.adData))}),r.each(e,function(a,e){if(r(e).offset().top<n+o-300){if(t.data.maxnum>=r(e).attr("maxnum"))return;t.data.maxnum=1*r(e).attr("maxnum"),r(e).attr("maxnum")<6?(r(e).removeClass("track-pageflow"),t.data.leftMaxnumName=r(e).attr("maxname"),t.data.leftMaxnumSubName="0"):6<=r(e).attr("maxnum")&&r(e).attr("maxnum")<12?(t.data.leftMaxnumName=r(e).find(".floor-big-title-name").html(),t.data.leftMaxnumSubName="0",r(e).removeClass("track-pageflow")):12<=r(e).attr("maxnum")&&r(e).attr("maxnum")<16?(t.data.leftMaxnumName=r(e).find(".floor-big-title-name").html(),t.data.leftMaxnumSubName=r(e).find(".gallery-main-title").attr("title"),r(e).removeClass("track-pageflow")):16<=r(e).attr("maxnum")&&(t.data.leftMaxnumName=r(e).attr("maxname"),t.data.leftMaxnumSubName="0",r(e).removeClass("track-pageflow"))}})}};l.init()});